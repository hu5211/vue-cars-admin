{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\components\\common\\cityArea\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\components\\common\\cityArea\\index.vue","mtime":1598465208821},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vIEFQSQppbXBvcnQgeyBHZXRDaXR5IH0gZnJvbSAiQC9hcGkvY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICcnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIGFkZHJlc3M6IFtdLAogICAgICBhZGRyZXNzRGF0YToge30sCiAgICAgIHZhbHVlOiAiIiwKICAgICAgY2FzY2FkZXJfb3B0aW9uczogW10sCiAgICAgIGNhc2NhZGVyX3Byb3BzOiB7CiAgICAgICAgbGF6eTogdHJ1ZSwKICAgICAgICBsYXp5TG9hZDogZnVuY3Rpb24gbGF6eUxvYWQobm9kZSwgcmVzb2x2ZSkgewogICAgICAgICAgdmFyIGxldmVsID0gbm9kZS5sZXZlbDsgLy8g6K+35rGC5Y+C5pWwCgogICAgICAgICAgdmFyIHJlcXVlc3REYXRhID0ge307IC8vIOWjsOaYjuiHquWumuS5iemFjee9rgoKICAgICAgICAgIHZhciBqc29uVHlwZSA9IHsKICAgICAgICAgICAgMDogewogICAgICAgICAgICAgIHR5cGU6ICJwcm92aW5jZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgMTogewogICAgICAgICAgICAgIHR5cGU6ICJjaXR5IiwKICAgICAgICAgICAgICBjb2RlOiAicHJvdmluY2UiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIDI6IHsKICAgICAgICAgICAgICB0eXBlOiAiYXJlYSIsCiAgICAgICAgICAgICAgY29kZTogImNpdHkiCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgaWYgKGpzb25UeXBlW2xldmVsXS5jb2RlKSB7CiAgICAgICAgICAgIHJlcXVlc3REYXRhWyIiLmNvbmNhdChqc29uVHlwZVtsZXZlbF0uY29kZSwgIl9jb2RlIildID0gbm9kZS52YWx1ZTsKICAgICAgICAgIH0gLy8gdHlwZQoKCiAgICAgICAgICByZXF1ZXN0RGF0YS50eXBlID0ganNvblR5cGVbbGV2ZWxdLnR5cGU7IC8vIOecgeW4guWMuueahOaOpeWPowoKICAgICAgICAgIEdldENpdHkocmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc29uc2UpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNvbnNlLmRhdGEuZGF0YTsgLy8g57G75Z6LCgogICAgICAgICAgICB2YXIgdHlwZSA9IGpzb25UeXBlW2xldmVsXS50eXBlLnRvVXBwZXJDYXNlKCk7IC8vIOiHquWumuS5iXZhbHVl44CBbGFiZWwKCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIGl0ZW0udmFsdWUgPSBpdGVtWyIiLmNvbmNhdCh0eXBlLCAiX0NPREUiKV07CiAgICAgICAgICAgICAgaXRlbS5sYWJlbCA9IGl0ZW1bIiIuY29uY2F0KHR5cGUsICJfTkFNRSIpXTsgLy8g5pyA5ZCO5LiA5bGC6YCJ5oupCgogICAgICAgICAgICAgIGlmIChsZXZlbCA9PT0gMikgewogICAgICAgICAgICAgICAgaXRlbS5sZWFmID0gbGV2ZWwgPj0gMjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOyAvLyDlrZjlgqjnnIHluILljLrmlbDmja4KCiAgICAgICAgICAgIF90aGlzLmFkZHJlc3NEYXRhW2pzb25UeXBlW2xldmVsXS50eXBlXSA9IGRhdGE7IC8vIOi/lOWbnuiKgueCueaVsOaNrgoKICAgICAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgICAgIH0pOyAvLyDojrflj5ZhZGRyZXNzCgogICAgICAgICAgaWYgKG5vZGUubGV2ZWwgIT09IDApIHsKICAgICAgICAgICAgX3RoaXMuZ2V0QWRkcmVzcyhub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VWYWx1ZTogZnVuY3Rpb24gY2hhbmdlVmFsdWUodmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOmNpdHlBcmVhVmFsdWUiLCB2YWx1ZS5qb2luKCkpOyAvLyDljLnphY3mnIDlkI7kuIDpobnvvIzljLrljr8KCiAgICAgIHZhciBsYXN0Q29kZSA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdOwogICAgICB2YXIgYXJlYSA9IHRoaXMuYWRkcmVzc0RhdGEuYXJlYS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PSBsYXN0Q29kZTsKICAgICAgfSlbMF07CiAgICAgIHRoaXMuYWRkcmVzc1syXSA9IGFyZWEubGFiZWw7CiAgICAgIHRoaXMuZ2V0QWRkcmVzcygpOwogICAgfSwKCiAgICAvKiog6I635Y+W5Lit5paH5Zyw5Z2AICovCiAgICBnZXRBZGRyZXNzOiBmdW5jdGlvbiBnZXRBZGRyZXNzKG5vZGUpIHsKICAgICAgaWYgKG5vZGUpIHsKICAgICAgICB2YXIgaW5kZXggPSBub2RlLmxldmVsIC0gMTsKICAgICAgICB0aGlzLmFkZHJlc3NbaW5kZXhdID0gbm9kZS5sYWJlbDsKICAgICAgfSAvLyDkuLogdHJ1ZSDml7bvvIzmiafooYzlnLDlm77kuqTkupIKCgogICAgICBpZiAodGhpcy5tYXBMb2NhdGlvbikgewogICAgICAgIHRoaXMuJGVtaXQoImNhbGxiYWNrIiwgewogICAgICAgICAgZnVuY3Rpb246ICJzZXRNYXBDZW50ZXIiLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3Muam9pbigiIikKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy52YWx1ZSA9ICIiOwogICAgfQogIH0sCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIGNpdHlBcmVhVmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIG1hcExvY2F0aW9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <el-cascader v-model=\"value\" :options=\"cascader_options\" :props=\"cascader_props\" @change=\"changeValue\"></el-cascader>\r\n</template>\r\n\r\n<script>\r\n// API\r\nimport { GetCity } from \"@/api/common\"\r\nexport default {\r\n\tname: '',\r\n\tdata(){\r\n\t\tconst _this = this;\r\n\t\treturn {\r\n\t\t\taddress: [],\r\n\t\t\taddressData: {},\r\n\t\t\tvalue: \"\",\r\n\t\t\tcascader_options: [],\r\n\t\t\t\tcascader_props: {\r\n\t\t\t\t\tlazy: true,\r\n\t\t\t\t\tlazyLoad (node, resolve) {\r\n\t\t\t\t\t\tconst level = node.level;\r\n\t\t\t\t\t\t// 请求参数\r\n\t\t\t\t\t\tconst requestData = {};\r\n\t\t\t\t\t\t// 声明自定义配置\r\n\t\t\t\t\t\tconst jsonType = {\r\n\t\t\t\t\t\t\t0: { type: \"province\" },\r\n\t\t\t\t\t\t\t1: { type: \"city\", code: \"province\" },\r\n\t\t\t\t\t\t\t2: { type: \"area\", code: \"city\" }\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(jsonType[level].code) { requestData[`${jsonType[level].code}_code`] = node.value }\r\n\t\t\t\t\t\t// type\r\n\t\t\t\t\t\trequestData.type = jsonType[level].type;\r\n\t\t\t\t\t\t// 省市区的接口\r\n\t\t\t\t\t\tGetCity(requestData).then(resonse => {\r\n\t\t\t\t\t\t\tconst data = resonse.data.data;\r\n\t\t\t\t\t\t\t// 类型\r\n\t\t\t\t\t\t\tconst type = jsonType[level].type.toUpperCase();\r\n\t\t\t\t\t\t\t// 自定义value、label\r\n\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\titem.value = item[`${type}_CODE`];\r\n\t\t\t\t\t\t\t\titem.label = item[`${type}_NAME`];\r\n\t\t\t\t\t\t\t\t// 最后一层选择\r\n\t\t\t\t\t\t\t\tif(level === 2) { item.leaf = level >= 2; }\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// 存储省市区数据\r\n\t\t\t\t\t\t\t_this.addressData[jsonType[level].type] = data;\r\n\t\t\t\t\t\t\t// 返回节点数据\r\n\t\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 获取address\r\n\t\t\t\t\t\tif(node.level !== 0) {\r\n\t\t\t\t\t\t\t_this.getAddress(node);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tchangeValue(value){\r\n\t\t\tthis.$emit(\"update:cityAreaValue\", value.join());\r\n\t\t\t// 匹配最后一项，区县\r\n\t\t\tconst lastCode = value[value.length - 1];\r\n\t\t\tconst area = this.addressData.area.filter(item => item.value == lastCode)[0];\r\n\t\t\tthis.address[2] = area.label;\r\n\t\t\tthis.getAddress();\r\n\t\t},\r\n\t\t/** 获取中文地址 */\r\n\t\tgetAddress(node){\r\n\t\t\tif(node) {\r\n\t\t\t\tconst index = node.level - 1;\r\n\t\t\t\tthis.address[index] = node.label;\r\n\t\t\t}\r\n\t\t\t// 为 true 时，执行地图交互\r\n\t\t\tif(this.mapLocation) {\r\n\t\t\t\tthis.$emit(\"callback\", {\r\n\t\t\t\t\tfunction: \"setMapCenter\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taddress: this.address.join(\"\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tclear(){\r\n\t\t\tthis.value = \"\";\r\n\t\t}\r\n\t},\r\n\tcomponents: {},\r\n\tprops: {\r\n\t\tcityAreaValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tmapLocation: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n   \r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n</style>\r\n<!--\r\n1、组件传入的属性用 props 接收；\r\n2、this.$emit(\"update\")返向修改，结合组件属性的.sync。\r\n-->"],"sourceRoot":"src/components/common/cityArea"}]}