{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\views\\amap\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\views\\amap\\index.vue","mtime":1598701319962},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQU1hcE1hbmFnZXIsIGxhenlBTWFwQXBpTG9hZGVySW5zdGFuY2UgfSBmcm9tICJ2dWUtYW1hcCI7IC8vIOaWueazlQoKaW1wb3J0IHsgZ2V0TG5nTGF0IH0gZnJvbSAiLi9jb21tb24iOwppbXBvcnQgeyBhZGRyZXNzU2V0TWFwQ2VudGVyIH0gZnJvbSAiLi9sb2NhdGlvbiI7CmltcG9ydCB7IGFtYXBTZXRNYXJrZXIsIGFtYXBDbGVhck1hcmtlciB9IGZyb20gIi4vbWFya2VyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbWFwIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g57uP57qs5bqmCiAgICAgIGxuZ2xhdDoge30sCiAgICAgIG1hcDogbnVsbCwKICAgICAgem9vbTogMTgsCiAgICAgIGV2ZW50czoge30KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvL2xhenlBTWFwQXBpTG9hZGVySW5zdGFuY2Ug5Yqg6L296auY5b635Zyw5Zu+55qEYXBpCiAgICBsYXp5QU1hcEFwaUxvYWRlckluc3RhbmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMubWFwQ3JlYXRlKCk7CgogICAgICBfdGhpcy5tYXAub24oImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgbG5nbGF0ID0gZ2V0TG5nTGF0KGUpOyAvLyDmm7TmlrDnu4/nuqzluqYKCiAgICAgICAgX3RoaXMubG5nbGF0ID0gbG5nbGF0OyAvLyDlm57osIPniLbnu4Tku7bmlrnms5UKCiAgICAgICAgX3RoaXMuJGVtaXQoImNhbGxiYWNrIiwgewogICAgICAgICAgZnVuY3Rpb246ICJnZXRMbmdsYXQiLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBsbmdsYXQ6IGxuZ2xhdAogICAgICAgICAgfQogICAgICAgIH0pOyAvLyDlrZDnu4Tku7bosIPniLbnu4Tku7bnmoTmlrnms5UKICAgICAgICAvLyDorr7nva7ngrnopobnm5bniakKCgogICAgICAgIF90aGlzLnNldE1hcmtlcigpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy/liJvlu7rlnLDlm74KICAgIG1hcENyZWF0ZTogZnVuY3Rpb24gbWFwQ3JlYXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubWFwID0gbmV3IEFNYXAuTWFwKCJhbWFwQ29udGFpbmVyIiwgewogICAgICAgIGNlbnRlcjogWzExNi40MDQ3NjUsIDM5LjkxODA1Ml0sCiAgICAgICAgem9vbTogdGhpcy56b29tIC8v5Yid5aeL5YyW5Zyw5Zu+5bGC57qnCgogICAgICB9KTsKICAgICAgdGhpcy5tYXAub24oImNvbXBsZXRlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5tYXBMb2FkcygpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WcsOWbvuWKoOi9veWujOaIkAogICAgbWFwTG9hZHM6IGZ1bmN0aW9uIG1hcExvYWRzKCkgewogICAgICBpZiAodGhpcy5vcHRpb25zLm1hcExvYWQpIHsKICAgICAgICB0aGlzLiRlbWl0KCJjYWxsYmFjayIsIHsKICAgICAgICAgIGZ1bmN0aW9uOiAibWFwTG9hZCIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v6ZSA5q+B5Zyw5Zu+CiAgICBtYXBEZXN0cm95OiBmdW5jdGlvbiBtYXBEZXN0cm95KCkgewogICAgICB0aGlzLm1hcCAmJiB0aGlzLm1hcC5kZXN0cm95KCk7CiAgICB9LAogICAgc2V0TWFwQ2VudGVyOiBmdW5jdGlvbiBzZXRNYXBDZW50ZXIodmFsdWUpIHsKICAgICAgYWRkcmVzc1NldE1hcENlbnRlcih2YWx1ZSwgdGhpcy5tYXApOwogICAgfSwKICAgIC8vIOiuvue9rueCueimhueblueJqQogICAgc2V0TWFya2VyOiBmdW5jdGlvbiBzZXRNYXJrZXIobG5nbGF0KSB7CiAgICAgIGFtYXBTZXRNYXJrZXIobG5nbGF0IHx8IHRoaXMubG5nbGF0LCB0aGlzLm1hcCk7CiAgICB9LAoKICAgIC8qKiDmuIXpmaTngrnopobnm5bniakgKi8KICAgIGNsZWFyTWFya2VyOiBmdW5jdGlvbiBjbGVhck1hcmtlcigpIHsKICAgICAgYW1hcENsZWFyTWFya2VyKHRoaXMubWFwKTsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAMA,SAAA,WAAA,EAAA,yBAAA,QAAA,UAAA,C,CACA;;AACA,SAAA,SAAA,QAAA,UAAA;AACA,SAAA,mBAAA,QAAA,YAAA;AACA,SAAA,aAAA,EAAA,eAAA,QAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,IAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AAAA;;AACA;AACA,IAAA,yBAAA,CAAA,IAAA,GAAA,IAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,SAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,EAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,GAAA,SAAA,CAAA,CAAA,CAAA,CADA,CAEA;;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,MAAA,CAHA,CAIA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,UAAA,EAAA;AACA,UAAA,QAAA,EAAA,WADA;AAEA,UAAA,IAAA,EAAA;AACA,YAAA,MAAA,EAAA;AADA;AAFA,SAAA,EALA,CAUA;AACA;;;AACA,QAAA,KAAA,CAAA,SAAA;AACA,OAbA;AAcA,KAhBA;AAiBA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AAAA;;AACA,WAAA,GAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA,eAAA,EAAA;AACA,QAAA,MAAA,EAAA,CAAA,UAAA,EAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA,CAEA;;AAFA,OAAA,CAAA;AAIA,WAAA,GAAA,CAAA,EAAA,CAAA,UAAA,EAAA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA;AACA,OAFA;AAGA,KAVA;AAWA;AACA,IAAA,QAZA,sBAYA;AACA,UAAA,KAAA,OAAA,CAAA,OAAA,EAAA;AACA,aAAA,KAAA,CAAA,UAAA,EAAA;AACA,UAAA,QAAA,EAAA;AADA,SAAA;AAGA;AACA,KAlBA;AAmBA;AACA,IAAA,UApBA,wBAoBA;AACA,WAAA,GAAA,IAAA,KAAA,GAAA,CAAA,OAAA,EAAA;AACA,KAtBA;AAuBA,IAAA,YAvBA,wBAuBA,KAvBA,EAuBA;AACA,MAAA,mBAAA,CAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,KAzBA;AA0BA;AACA,IAAA,SA3BA,qBA2BA,MA3BA,EA2BA;AACA,MAAA,aAAA,CAAA,MAAA,IAAA,KAAA,MAAA,EAAA,KAAA,GAAA,CAAA;AACA,KA7BA;;AA8BA;AACA,IAAA,WA/BA,yBA+BA;AACA,MAAA,eAAA,CAAA,KAAA,GAAA,CAAA;AACA;AAjCA,GA/BA;AAkEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA;AADA;AAlEA,CAAA","sourcesContent":["<template>\r\n  <div class=\"amap-wrap\">\r\n    <el-amap vid=\"amapContainer\" :events=\"events\" class=\"amap-demo\"></el-amap>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { AMapManager, lazyAMapApiLoaderInstance } from \"vue-amap\";\r\n// 方法\r\nimport { getLngLat } from \"./common\";\r\nimport { addressSetMapCenter } from \"./location\";\r\nimport { amapSetMarker, amapClearMarker } from \"./marker\";\r\nexport default {\r\n  name: \"Amap\",\r\n  data() {\r\n    return {\r\n      // 经纬度\r\n      lnglat: {},\r\n      map: null,\r\n      zoom: 18,\r\n      events: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    //lazyAMapApiLoaderInstance 加载高德地图的api\r\n    lazyAMapApiLoaderInstance.load().then(() => {\r\n      this.mapCreate();\r\n      this.map.on(\"click\", e => {\r\n        const lnglat = getLngLat(e);\r\n        // 更新经纬度\r\n        this.lnglat = lnglat;\r\n        // 回调父组件方法\r\n        this.$emit(\"callback\", {\r\n          function: \"getLnglat\",\r\n          data: {\r\n            lnglat\r\n          }\r\n        }); // 子组件调父组件的方法\r\n        // 设置点覆盖物\r\n        this.setMarker();\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    //创建地图\r\n    mapCreate() {\r\n      this.map = new AMap.Map(\"amapContainer\", {\r\n        center: [116.404765, 39.918052],\r\n        zoom: this.zoom //初始化地图层级\r\n      });\r\n      this.map.on(\"complete\", () => {\r\n        this.mapLoads();\r\n      });\r\n    },\r\n    //地图加载完成\r\n    mapLoads() {\r\n      if (this.options.mapLoad) {\r\n        this.$emit(\"callback\", {\r\n          function: \"mapLoad\"\r\n        });\r\n      }\r\n    },\r\n    //销毁地图\r\n    mapDestroy() {\r\n      this.map && this.map.destroy();\r\n    },\r\n    setMapCenter(value) {\r\n      addressSetMapCenter(value, this.map);\r\n    },\r\n    // 设置点覆盖物\r\n    setMarker(lnglat) {\r\n      amapSetMarker(lnglat || this.lnglat, this.map);\r\n    },\r\n    /** 清除点覆盖物 */\r\n    clearMarker() {\r\n      amapClearMarker(this.map);\r\n    }\r\n  },\r\n  props: {\r\n    options: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.amap-wrap {\r\n  height: 100%;\r\n}\r\n</style>"],"sourceRoot":"src/views/amap"}]}