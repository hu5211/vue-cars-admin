{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-cars\\vue-cars-admin\\src\\utils\\request.js","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\utils\\request.js","mtime":1598469367122},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7IC8vIGNvb2tpZXMKCmltcG9ydCB7IGdldFRva2VuLCBnZXRVc2VybmFtZSB9IGZyb20gIi4vY29va2llcyI7IC8vIEVsZW1lbnRVSSDljZXni6zlvJXlhaUKCmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsgLy8g5Yib5bu65a6e5L6LCgp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUEksCiAgLy8g6K+35rGC5Zyw5Z2ACiAgdGltZW91dDogNTAwMCAvLyDotoXml7YKCn0pOyAvLyDmi6bmiKrlmagKLy8g5re75Yqg6K+35rGC5oum5oiq5ZmoCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5Zyo5Y+R6YCB6K+35rGC5LmL5YmN5YGa5Lqb5LuA5LmICiAgY29uZmlnLmhlYWRlcnNbJ1Rva2VuJ10gPSBnZXRUb2tlbigpOyAvLyDmkLrluKZ0b2tlbgoKICBjb25maWcuaGVhZGVyc1snVXNlcm5hbWUnXSA9IGdldFVzZXJuYW1lKCk7IC8vIOaQuuW4pnRva2VuCgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIOWvueivt+axgumUmeivr+WBmuS6m+S7gOS5iAogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDmt7vliqDlk43lupTmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7IC8vIOS4jeS4ujDvvIzljbPmjqXlj6PlvILluLjml7YKCiAgaWYgKGRhdGEucmVzQ29kZSAhPT0gMCkgewogICAgTWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGRhdGEpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gZGF0YTsgLy8gcmV0dXJuIFByb21pc2UucmVzb2x2ZShkYXRhKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIOWvueWTjeW6lOmUmeivr+WBmueCueS7gOS5iAogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDmmrTpnLJzZXJ2aWNlCgpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"sources":["D:/vue-cars/vue-cars-admin/src/utils/request.js"],"names":["axios","getToken","getUsername","Message","service","create","baseURL","process","env","VUE_APP_API","timeout","interceptors","request","use","config","headers","error","Promise","reject","response","data","resCode","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,WAAtC,C,CACA;;AACA,SAASC,OAAT,QAAwB,YAAxB,C,CACA;;AACA,IAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADI;AACY;AACrCC,EAAAA,OAAO,EAAE,IAFgB,CAET;;AAFS,CAAb,CAAhB,C,CAKA;AACA;;AACAN,OAAO,CAACO,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAUC,MAAV,EAAkB;AAC/C;AACAA,EAAAA,MAAM,CAACC,OAAP,CAAe,OAAf,IAA0Bd,QAAQ,EAAlC,CAF+C,CAER;;AACvCa,EAAAA,MAAM,CAACC,OAAP,CAAe,UAAf,IAA6Bb,WAAW,EAAxC,CAH+C,CAGF;;AAC7C,SAAOY,MAAP;AACH,CALD,EAKG,UAAUE,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CARD,E,CAUA;;AACAZ,OAAO,CAACO,YAAR,CAAqBQ,QAArB,CAA8BN,GAA9B,CAAkC,UAAUM,QAAV,EAAoB;AAClD,MAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAtB,CADkD,CAElD;;AACA,MAAIA,IAAI,CAACC,OAAL,KAAiB,CAArB,EAAwB;AACpBlB,IAAAA,OAAO,CAACa,KAAR,CAAcI,IAAI,CAACE,OAAnB;AACA,WAAOL,OAAO,CAACC,MAAR,CAAeE,IAAf,CAAP;AACH,GAHD,MAGO;AACH,WAAOA,IAAP,CADG,CACU;AAChB;AACJ,CATD,EASG,UAAUJ,KAAV,EAAiB;AAChB;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAZD,E,CAaA;;AACA,eAAeZ,OAAf","sourcesContent":["import axios from \"axios\";\r\n// cookies\r\nimport { getToken, getUsername } from \"./cookies\";\r\n// ElementUI 单独引入\r\nimport { Message } from 'element-ui';\r\n// 创建实例\r\nconst service = axios.create({\r\n    baseURL: process.env.VUE_APP_API,    // 请求地址\r\n    timeout: 5000,  // 超时\r\n});\r\n\r\n// 拦截器\r\n// 添加请求拦截器\r\nservice.interceptors.request.use(function (config) {\r\n    // 在发送请求之前做些什么\r\n    config.headers['Token'] = getToken();  // 携带token\r\n    config.headers['Username'] = getUsername();  // 携带token\r\n    return config;\r\n}, function (error) {\r\n    // 对请求错误做些什么\r\n    return Promise.reject(error);\r\n});\r\n\r\n// 添加响应拦截器\r\nservice.interceptors.response.use(function (response) {\r\n    const data = response.data;\r\n    // 不为0，即接口异常时\r\n    if (data.resCode !== 0) {\r\n        Message.error(data.message);\r\n        return Promise.reject(data);\r\n    } else {\r\n        return data; // return Promise.resolve(data);\r\n    }\r\n}, function (error) {\r\n    // 对响应错误做点什么\r\n    return Promise.reject(error);\r\n});\r\n// 暴露service\r\nexport default service;"]}]}