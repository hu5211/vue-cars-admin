{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue-cars\\vue-cars-admin\\src\\store\\modules\\app.js","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\store\\modules\\app.js","mtime":1598469152423},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IHNldFRva2VuLCBzZXRVc2VybmFtZSwgZ2V0VXNlcm5hbWUsIHJlbW92ZVRva2VuLCByZW1vdmVVc2VybmFtZSB9IGZyb20gIkAvdXRpbHMvY29va2llcyI7CmltcG9ydCB7IExvZ2luLCBMb2dvdXQgfSBmcm9tICJAL2FwaS9sb2dpbiI7CnZhciBzdGF0ZSA9IHsKICBjb2xsYXBzZTogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb2xsYXBzZScpKSB8fCBmYWxzZSwKICB0b2tlbjogIiIsCiAgdXNlcm5hbWU6ICIiIHx8IGdldFVzZXJuYW1lKCkKfTsKdmFyIGdldHRlcnMgPSB7fTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfQ09MTEFQU0U6IGZ1bmN0aW9uIFNFVF9DT0xMQVBTRShzdGF0ZSkgewogICAgc3RhdGUuY29sbGFwc2UgPSAhc3RhdGUuY29sbGFwc2U7CiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb2xsYXBzZScsIFN0cmluZyhzdGF0ZS5jb2xsYXBzZSkpOwogIH0sCiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS50b2tlbiA9IHZhbHVlOwogIH0sCiAgU0VUX1VTRVJOQU1FOiBmdW5jdGlvbiBTRVRfVVNFUk5BTUUoc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS51c2VybmFtZSA9IHZhbHVlOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgbG9naW5BY3Rpb246IGZ1bmN0aW9uIGxvZ2luQWN0aW9uKGNvbnRlbnQsIHJlcHVlc3REYXRhKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBMb2dpbihyZXB1ZXN0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgY29udGVudC5jb21taXQoJ1NFVF9UT0tFTicsIGRhdGEudG9rZW4pOwogICAgICAgIGNvbnRlbnQuY29tbWl0KCdTRVRfVVNFUk5BTUUnLCBkYXRhLnVzZXJuYW1lKTsKICAgICAgICBzZXRUb2tlbihkYXRhLnRva2VuKTsKICAgICAgICBzZXRVc2VybmFtZShkYXRhLnVzZXJuYW1lKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGxvZ291dEFjdGlvbjogZnVuY3Rpb24gbG9nb3V0QWN0aW9uKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIExvZ291dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIHJlbW92ZVRva2VuKCk7CiAgICAgICAgcmVtb3ZlVXNlcm5hbWUoKTsKICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsICcnKTsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSTkFNRScsICcnKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["D:/vue-cars/vue-cars-admin/src/store/modules/app.js"],"names":["setToken","setUsername","getUsername","removeToken","removeUsername","Login","Logout","state","collapse","JSON","parse","sessionStorage","getItem","token","username","getters","mutations","SET_COLLAPSE","setItem","String","SET_TOKEN","value","SET_USERNAME","actions","loginAction","content","repuestData","Promise","resolve","reject","then","response","data","console","log","commit","catch","error","logoutAction","namespaced"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,WAAhC,EAA6CC,WAA7C,EAA0DC,cAA1D,QAAgF,iBAAhF;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,aAA9B;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,QAAQ,EAAEC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,KAAkD,KADlD;AAEVC,EAAAA,KAAK,EAAE,EAFG;AAGVC,EAAAA,QAAQ,EAAE,MAAMZ,WAAW;AAHjB,CAAd;AAKA,IAAMa,OAAO,GAAG,EAAhB;AACA,IAAMC,SAAS,GAAG;AACdC,EAAAA,YADc,wBACDV,KADC,EACM;AAChBA,IAAAA,KAAK,CAACC,QAAN,GAAiB,CAACD,KAAK,CAACC,QAAxB;AACAG,IAAAA,cAAc,CAACO,OAAf,CAAuB,UAAvB,EAAmCC,MAAM,CAACZ,KAAK,CAACC,QAAP,CAAzC;AACH,GAJa;AAKdY,EAAAA,SALc,qBAKJb,KALI,EAKGc,KALH,EAKU;AACpBd,IAAAA,KAAK,CAACM,KAAN,GAAcQ,KAAd;AACH,GAPa;AAQdC,EAAAA,YARc,wBAQDf,KARC,EAQMc,KARN,EAQa;AACvBd,IAAAA,KAAK,CAACO,QAAN,GAAiBO,KAAjB;AACH;AAVa,CAAlB;AAYA,IAAME,OAAO,GAAG;AACZC,EAAAA,WADY,uBACAC,OADA,EACSC,WADT,EACsB;AAC9B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCxB,MAAAA,KAAK,CAACqB,WAAD,CAAL,CAAmBI,IAAnB,CAAwB,UAACC,QAAD,EAAc;AAClC,YAAIC,IAAI,GAAGD,QAAQ,CAACC,IAApB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAP,QAAAA,OAAO,CAACU,MAAR,CAAe,WAAf,EAA4BH,IAAI,CAACnB,KAAjC;AACAY,QAAAA,OAAO,CAACU,MAAR,CAAe,cAAf,EAA+BH,IAAI,CAAClB,QAApC;AACAd,QAAAA,QAAQ,CAACgC,IAAI,CAACnB,KAAN,CAAR;AACAZ,QAAAA,WAAW,CAAC+B,IAAI,CAAClB,QAAN,CAAX;AACAc,QAAAA,OAAO,CAACG,QAAD,CAAP;AACH,OARD,EAQGK,KARH,CAQS,UAAAC,KAAK,EAAI;AACdR,QAAAA,MAAM,CAACQ,KAAD,CAAN;AACH,OAVD;AAWH,KAZM,CAAP;AAaH,GAfW;AAgBZC,EAAAA,YAhBY,8BAgBa;AAAA,QAAVH,MAAU,QAAVA,MAAU;AACrB,WAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCvB,MAAAA,MAAM,GAAGwB,IAAT,CAAc,UAAAC,QAAQ,EAAI;AACtBE,QAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA5B,QAAAA,WAAW;AACXC,QAAAA,cAAc;AACd+B,QAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACAA,QAAAA,MAAM,CAAC,cAAD,EAAiB,EAAjB,CAAN;AACAP,QAAAA,OAAO,CAACG,QAAD,CAAP;AACH,OAPD;AASH,KAVM,CAAP;AAWH;AA5BW,CAAhB;AA+BA,eAAe;AACXQ,EAAAA,UAAU,EAAE,IADD;AAEXhC,EAAAA,KAAK,EAALA,KAFW;AAGXQ,EAAAA,OAAO,EAAPA,OAHW;AAIXC,EAAAA,SAAS,EAATA,SAJW;AAKXO,EAAAA,OAAO,EAAPA;AALW,CAAf","sourcesContent":["import { setToken, setUsername, getUsername, removeToken, removeUsername } from \"@/utils/cookies\";\r\nimport { Login, Logout } from \"@/api/login\";\r\nconst state = {\r\n    collapse: JSON.parse(sessionStorage.getItem('collapse')) || false,\r\n    token: \"\",\r\n    username: \"\" || getUsername()\r\n}\r\nconst getters = {}\r\nconst mutations = {\r\n    SET_COLLAPSE(state) {\r\n        state.collapse = !state.collapse;\r\n        sessionStorage.setItem('collapse', String(state.collapse))\r\n    },\r\n    SET_TOKEN(state, value) {\r\n        state.token = value;\r\n    },\r\n    SET_USERNAME(state, value) {\r\n        state.username = value;\r\n    }\r\n}\r\nconst actions = {\r\n    loginAction(content, repuestData) {\r\n        return new Promise((resolve, reject) => {\r\n            Login(repuestData).then((response) => {\r\n                let data = response.data\r\n                console.log(data)\r\n                content.commit('SET_TOKEN', data.token);\r\n                content.commit('SET_USERNAME', data.username);\r\n                setToken(data.token);\r\n                setUsername(data.username);\r\n                resolve(response)\r\n            }).catch(error => {\r\n                reject(error)\r\n            })\r\n        })\r\n    },\r\n    logoutAction({ commit }) {\r\n        return new Promise((resolve, reject) => {\r\n            Logout().then(response => {\r\n                console.log(response)\r\n                removeToken();\r\n                removeUsername();\r\n                commit('SET_TOKEN', '');\r\n                commit('SET_USERNAME', '');\r\n                resolve(response);\r\n            })\r\n\r\n        })\r\n    }\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n};\r\n"]}]}