{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\views\\Login\\index.vue","mtime":1598519692553},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc2hhMSBmcm9tICJqcy1zaGExIjsNCmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIHNldCB9IGZyb20gIkB2dWUvY29tcG9zaXRpb24tYXBpIjsNCmltcG9ydCB7IHZhbGlkYXRlX2VtYWlsLCB2YWxpZGF0ZV9wYXNzd29yZCB9IGZyb20gIkAvdXRpbHMvdmFsaWRhdGUiOw0KaW1wb3J0IHsgR2V0Q29kZSwgUmVnaXN0ZXIsIExvZ2luIH0gZnJvbSAiQC9hcGkvbG9naW4iOw0KaW1wb3J0IHsgbWFwU3RhdCB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTG9naW4iLA0KICBzZXR1cChwcm9wcywgeyByb290LCByZWZzIH0pIHsNCiAgICBjb25zdCBtZW51X3N3aXRjaF9pdGVtID0gcmVhY3RpdmUoWw0KICAgICAgeyB0eXBlOiAibG9naW4iLCBsYWJlbDogIueZu+W9lSIgfSwNCiAgICAgIHsgdHlwZTogInJlZ2lzdGVyIiwgbGFiZWw6ICLms6jlhowiIH0NCiAgICBdKTsNCiAgICBsZXQgY3VycmVudF9tZW51ID0gcmVmKG1lbnVfc3dpdGNoX2l0ZW1bMF0udHlwZSk7DQogICAgY29uc3QgZm9ybSA9IHJlYWN0aXZlKHsNCiAgICAgIG5hbWU6ICIiLA0KICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgcGFzc3dvcmRzOiAiIiwNCiAgICAgIGNvZGU6ICIiDQogICAgfSk7DQogICAgbGV0IGNvZGVfdGV4dCA9IHJlZigi6I635Y+W6aqM6K+B56CBIik7DQogICAgbGV0IGNvZGVfbG9hZGluZyA9IHJlZihmYWxzZSk7DQogICAgbGV0IGNvZGVfZGlzYWJsZWQgPSByZWYoZmFsc2UpOw0KICAgIGxldCB0aW1lciA9IHJlZihudWxsKTsNCiAgICBsZXQgc3VibWl0X2Rpc2FibGVkID0gcmVmKHRydWUpOw0KICAgIC8qKg0KICAgICAqIOiHquWumuS5ieajgOmqjOinhOWImQ0KICAgICAqLw0KICAgIC8vIOajgOmqjOmCrueusQ0KICAgIGNvbnN0IHZhbGlkYXRlX25hbWVfcnVsZXMgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBsZXQgcmVnRW1haWwgPSB2YWxpZGF0ZV9lbWFpbCh2YWx1ZSk7DQogICAgICBpZiAodmFsdWUgPT09ICIiKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6YKu566xIikpOw0KICAgICAgfSBlbHNlIGlmICghcmVnRW1haWwpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLpgq7nrrHmoLzlvI/kuI3mraPnoa4iKSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgfQ0KICAgIH07DQogICAgLy8g5qOA6aqM5a+G56CBDQogICAgY29uc3QgdmFsaWRhdGVfcGFzc3dvcmRfcnVsZXMgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBsZXQgcmVnUGFzc3dvcmQgPSB2YWxpZGF0ZV9wYXNzd29yZCh2YWx1ZSk7DQogICAgICBsZXQgcGFzc3dvcmRzX3ZhbHVlID0gZm9ybS5wYXNzd29yZHM7DQogICAgICBpZiAodmFsdWUgPT09ICIiKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOw0KICAgICAgfSBlbHNlIGlmICghcmVnUGFzc3dvcmQpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7flhaUgPj02IOW5tuS4lCA8PSAyMCDkvY3nmoTlr4bnoIHvvIzljIXlkKvmlbDlrZfjgIHlrZfmr40iKSk7DQogICAgICB9IGVsc2UgaWYgKHBhc3N3b3Jkc192YWx1ZSAmJiBwYXNzd29yZHNfdmFsdWUgIT09IHZhbHVlKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5Lik5qyh5a+G56CB5LiN5LiA6Ie077yM6K+36YeN5paw6L6T5YWlIikpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIC8vIOajgOmqjOehruiupOWvhueggQ0KICAgIGNvbnN0IHZhbGlkYXRlX3Bhc3N3b3Jkc19ydWxlcyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGxldCBwYXNzd29yZF92YWx1ZSA9IGZvcm0ucGFzc3dvcmQ7DQogICAgICBpZiAoY3VycmVudF9tZW51LnZhbHVlID09PSAibG9naW4iKSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXnoa7orqTlr4bnoIEiKSk7DQogICAgICB9IGVsc2UgaWYgKHBhc3N3b3JkX3ZhbHVlICE9PSB2YWx1ZSkgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoeWvhueggeS4jeS4gOiHtO+8jOivt+mHjeaWsOi+k+WFpSIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICAvLyDmo4Dpqozpqozor4HnoIENCiAgICBjb25zdCB2YWxpZGF0ZV9jb2RlX3J1bGVzID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKHZhbHVlID09PSAiIikgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpemqjOivgeeggSIpKTsNCiAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICE9PSA2KSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl6ZW/5bqm5Li6NuS9jeaVsOeahOmqjOivgeeggSIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICAvLyDmo4Dpqozop4TliJkNCiAgICBjb25zdCBmb3JtX3J1bGVzID0gcmVhY3RpdmUoew0KICAgICAgbmFtZTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZV9uYW1lX3J1bGVzLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICBwYXNzd29yZDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZV9wYXNzd29yZF9ydWxlcywgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgcGFzc3dvcmRzOiBbeyB2YWxpZGF0b3I6IHZhbGlkYXRlX3Bhc3N3b3Jkc19ydWxlcywgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgY29kZTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZV9jb2RlX3J1bGVzLCB0cmlnZ2VyOiAiYmx1ciIgfV0NCiAgICB9KTsNCiAgICAvLyDliIfmjaLmoLflvI/mlrnms5UNCiAgICBjb25zdCB0b2dnbGVIaWdoID0gdHlwZSA9PiB7DQogICAgICBjdXJyZW50X21lbnUudmFsdWUgPSB0eXBlOw0KICAgIH07DQogICAgLy8g5YCS6K6h5pe2DQogICAgY29uc3QgY291bnRkb3duID0gbnVtYmVyID0+IHsNCiAgICAgIGxldCBzZWNvbmQgPSBudW1iZXI7DQogICAgICAvLyDnpoHnlKjmjInpkq4NCiAgICAgIGNvZGVfZGlzYWJsZWQudmFsdWUgPSB0cnVlOw0KICAgICAgLy8g5oyJ6ZKu5paH5pysDQogICAgICBjb2RlX3RleHQudmFsdWUgPSBg5YCS6K6h6L+bJHtzZWNvbmR956eSYDsNCiAgICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICBzZWNvbmQtLTsNCiAgICAgICAgY29kZV90ZXh0LnZhbHVlID0gYOWAkuiuoei/myR7c2Vjb25kfeenkmA7DQogICAgICAgIGlmIChzZWNvbmQgPCAwKSB7DQogICAgICAgICAgY29kZV90ZXh0LnZhbHVlID0gYOmHjeaWsOiOt+WPlmA7DQogICAgICAgICAgLy8g5ZCv55So5oyJ6ZKuDQogICAgICAgICAgY29kZV9kaXNhYmxlZC52YWx1ZSA9IGZhbHNlOw0KICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOw0KICAgICAgICB9DQogICAgICB9LCAxMDAwKTsNCiAgICB9Ow0KICAgIC8vIOiOt+WPlumqjOivgeeggeaWueazlQ0KICAgIGNvbnN0IGdldENvZGVGbiA9ICgpID0+IHsNCiAgICAgIGlmIChmb3JtLm5hbWUgPT09ICIiKSB7DQogICAgICAgIHJvb3QuJG1lc3NhZ2UuZXJyb3IoIumCrueuseS4jeiDveS4uuepuu+8ge+8gSIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBpZiAoIXZhbGlkYXRlX2VtYWlsKGZvcm0ubmFtZSkpIHsNCiAgICAgICAgcm9vdC4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogIumCrueuseagvOW8j+acieivr++8jOivt+mHjeaWsOi+k+WFpe+8ge+8gSIsDQogICAgICAgICAgdHlwZTogImVycm9yIg0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgICAgbGV0IHJlcXVlc3REYXRhID0gew0KICAgICAgICB1c2VybmFtZTogZm9ybS5uYW1lLA0KICAgICAgICBtb2R1bGU6IGN1cnJlbnRfbWVudS52YWx1ZQ0KICAgICAgfTsNCiAgICAgIGNvZGVfdGV4dC52YWx1ZSA9ICLlj5HpgIHkuK0iOw0KICAgICAgY29kZV9sb2FkaW5nLnZhbHVlID0gdHJ1ZTsNCiAgICAgIEdldENvZGUocmVxdWVzdERhdGEpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7IC8vIOi/memHjOaJk+WNsOaLpuaIquWZqOi/lOWbnueahOS/oeaBr++8jHJlc3BvbnNl5piv6Ieq5a6a5LmJ5Y+C5pWw44CCDQogICAgICAgICAgcm9vdC4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiDQogICAgICAgICAgfSk7DQogICAgICAgICAgLy8g5r+A5rS75oyJ6ZKuDQogICAgICAgICAgc3VibWl0X2Rpc2FibGVkLnZhbHVlID0gZmFsc2U7DQogICAgICAgICAgLy8g5riF6Zmk5Yqg6L29DQogICAgICAgICAgY29kZV9sb2FkaW5nLnZhbHVlID0gZmFsc2U7DQogICAgICAgICAgLy8g5omn6KGM5YCS6K6h5pe25pa55rOVDQogICAgICAgICAgY291bnRkb3duKDYwKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICBjb2RlX3RleHQudmFsdWUgPSAi6YeN5paw6I635Y+WIjsNCiAgICAgICAgICBjb2RlX2xvYWRpbmcudmFsdWUgPSBmYWxzZTsNCiAgICAgICAgfSk7DQogICAgfTsNCiAgICAvLyDmj5DkuqTooajljZUNCiAgICBjb25zdCBzdWJtaXRGb3JtID0gZm9ybU5hbWUgPT4gew0KICAgICAgcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICAvLyDooajljZXpqozor4HpgJrov4cNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgLy8g5LiJ5YWD6L+Q566XDQogICAgICAgICAgY3VycmVudF9tZW51LnZhbHVlID09PSAibG9naW4iID8gbG9naW4oKSA6IHJlZ2lzdGVyKCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9Ow0KICAgIC8vIOeZu+W9lQ0KICAgIGNvbnN0IGxvZ2luID0gKCkgPT4gew0KICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB7DQogICAgICAgIHVzZXJuYW1lOiBmb3JtLm5hbWUsDQogICAgICAgIHBhc3N3b3JkOiBzaGExKGZvcm0ucGFzc3dvcmQpLA0KICAgICAgICBjb2RlOiBmb3JtLmNvZGUNCiAgICAgIH07DQogICAgICByb290LiRzdG9yZQ0KICAgICAgICAuZGlzcGF0Y2goImFwcC9sb2dpbkFjdGlvbiIsIHJlcXVlc3REYXRhKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgcm9vdC4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiDQogICAgICAgICAgfSk7DQogICAgICAgICAgLy8g6aG16Z2i6Lez6L2sDQogICAgICAgICAgcm9vdC4kcm91dGVyLnB1c2goeyBuYW1lOiAiQ29uc29sZUluZGV4IiB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAvLyDph43nva7mlbDmja4NCiAgICAgICAgICByZXNldCgpOw0KICAgICAgICB9KTsNCiAgICB9Ow0KICAgIC8vIOazqOWGjA0KICAgIGNvbnN0IHJlZ2lzdGVyID0gKCkgPT4gew0KICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB7DQogICAgICAgIHVzZXJuYW1lOiBmb3JtLm5hbWUsDQogICAgICAgIHBhc3N3b3JkOiBzaGExKGZvcm0ucGFzc3dvcmQpLA0KICAgICAgICBjb2RlOiBmb3JtLmNvZGUNCiAgICAgIH07DQogICAgICBSZWdpc3RlcihyZXF1ZXN0RGF0YSkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHJvb3QuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSwNCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIg0KICAgICAgICAgIH0pOw0KICAgICAgICAgIC8vIOmHjee9ruaVsOaNrg0KICAgICAgICAgIHJlc2V0KCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgLy8g6YeN572u5pWw5o2uDQogICAgICAgICAgcmVzZXQoKTsNCiAgICAgICAgfSk7DQogICAgfTsNCiAgICAvLyDph43nva4NCiAgICBjb25zdCByZXNldCA9ICgpID0+IHsNCiAgICAgIC8vIOmHjee9ruihqOWNlQ0KICAgICAgcmVmc1siZm9ybSJdLnJlc2V0RmllbGRzKCk7DQogICAgICAvLyDkv67mlLnmqKHlnZcNCiAgICAgIGN1cnJlbnRfbWVudS52YWx1ZSA9ICJsb2dpbiI7DQogICAgICAvLyDliKTmlq3lrprml7blmajmmK/lkKblrZjlnKjvvIzlrZjlnKjliJnmuIXpmaQNCiAgICAgIGlmICh0aW1lcikgew0KICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsNCiAgICAgIH0NCiAgICAgIC8vIOi/mOWOn+iOt+WPlumqjOeggeaMiemSrueKtuaAgQ0KICAgICAgY29kZV9kaXNhYmxlZC52YWx1ZSA9IGZhbHNlOw0KICAgICAgY29kZV90ZXh0LnZhbHVlID0gIuiOt+WPlumqjOivgeeggSI7DQogICAgfTsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybSwNCiAgICAgIG1lbnVfc3dpdGNoX2l0ZW0sDQogICAgICBjdXJyZW50X21lbnUsDQogICAgICBmb3JtX3J1bGVzLA0KICAgICAgY29kZV90ZXh0LA0KICAgICAgY29kZV9sb2FkaW5nLA0KICAgICAgY29kZV9kaXNhYmxlZCwNCiAgICAgIHN1Ym1pdF9kaXNhYmxlZCwNCiAgICAgIHRvZ2dsZUhpZ2gsDQogICAgICBnZXRDb2RlRm4sDQogICAgICBzdWJtaXRGb3JtLA0KICAgICAgbG9naW4sDQogICAgICByZWdpc3Rlcg0KICAgIH07DQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\r\n  <div id=\"login\">\r\n    <div class=\"form-wrap\">\r\n      <ul class=\"menu-tab\">\r\n        <li\r\n          @click=\"toggleHigh(item.type)\"\r\n          :class=\"{'current': current_menu === item.type}\"\r\n          v-for=\"item in menu_switch_item\"\r\n          :key=\"item.type\"\r\n        >{{ item.label }}</li>\r\n      </ul>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"form_rules\">\r\n        <el-form-item prop=\"name\">\r\n          <label class=\"form-label\">用户名</label>\r\n          <el-input v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <label class=\"form-label\">密码</label>\r\n          <el-input type=\"password\" v-model=\"form.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"passwords\" v-show=\"current_menu === 'register'\">\r\n          <label class=\"form-label\">确认密码</label>\r\n          <el-input type=\"password\" v-model=\"form.passwords\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"code\">\r\n          <label class=\"form-label btnyz\">验证码</label>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"14\">\r\n              <el-input v-model=\"form.code\"></el-input>\r\n            </el-col>\r\n            <el-col :span=\"10\">\r\n              <el-button\r\n                type=\"success\"\r\n                class=\"el-button-block\"\r\n                @click=\"getCodeFn()\"\r\n                :disabled=\"code_disabled\"\r\n                :loading=\"code_loading\"\r\n              >{{ code_text }}</el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"danger\"\r\n            class=\"el-button-block login-from\"\r\n            :disabled=\"submit_disabled\"\r\n            @click=\"submitForm('form')\"\r\n          >{{ current_menu === \"login\" ? \"登录\": \"注册\"}}</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport sha1 from \"js-sha1\";\r\nimport { reactive, ref, set } from \"@vue/composition-api\";\r\nimport { validate_email, validate_password } from \"@/utils/validate\";\r\nimport { GetCode, Register, Login } from \"@/api/login\";\r\nimport { mapStat } from \"vuex\";\r\nexport default {\r\n  name: \"Login\",\r\n  setup(props, { root, refs }) {\r\n    const menu_switch_item = reactive([\r\n      { type: \"login\", label: \"登录\" },\r\n      { type: \"register\", label: \"注册\" }\r\n    ]);\r\n    let current_menu = ref(menu_switch_item[0].type);\r\n    const form = reactive({\r\n      name: \"\",\r\n      password: \"\",\r\n      passwords: \"\",\r\n      code: \"\"\r\n    });\r\n    let code_text = ref(\"获取验证码\");\r\n    let code_loading = ref(false);\r\n    let code_disabled = ref(false);\r\n    let timer = ref(null);\r\n    let submit_disabled = ref(true);\r\n    /**\r\n     * 自定义检验规则\r\n     */\r\n    // 检验邮箱\r\n    const validate_name_rules = (rule, value, callback) => {\r\n      let regEmail = validate_email(value);\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入邮箱\"));\r\n      } else if (!regEmail) {\r\n        callback(new Error(\"邮箱格式不正确\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    // 检验密码\r\n    const validate_password_rules = (rule, value, callback) => {\r\n      let regPassword = validate_password(value);\r\n      let passwords_value = form.passwords;\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else if (!regPassword) {\r\n        callback(new Error(\"请入 >=6 并且 <= 20 位的密码，包含数字、字母\"));\r\n      } else if (passwords_value && passwords_value !== value) {\r\n        callback(new Error(\"两次密码不一致，请重新输入\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    // 检验确认密码\r\n    const validate_passwords_rules = (rule, value, callback) => {\r\n      let password_value = form.password;\r\n      if (current_menu.value === \"login\") {\r\n        callback();\r\n        return false;\r\n      }\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入确认密码\"));\r\n      } else if (password_value !== value) {\r\n        callback(new Error(\"两次密码不一致，请重新输入\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    // 检验验证码\r\n    const validate_code_rules = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入验证码\"));\r\n      } else if (value.length !== 6) {\r\n        callback(new Error(\"请输入长度为6位数的验证码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    // 检验规则\r\n    const form_rules = reactive({\r\n      name: [{ validator: validate_name_rules, trigger: \"blur\" }],\r\n      password: [{ validator: validate_password_rules, trigger: \"blur\" }],\r\n      passwords: [{ validator: validate_passwords_rules, trigger: \"blur\" }],\r\n      code: [{ validator: validate_code_rules, trigger: \"blur\" }]\r\n    });\r\n    // 切换样式方法\r\n    const toggleHigh = type => {\r\n      current_menu.value = type;\r\n    };\r\n    // 倒计时\r\n    const countdown = number => {\r\n      let second = number;\r\n      // 禁用按钮\r\n      code_disabled.value = true;\r\n      // 按钮文本\r\n      code_text.value = `倒计进${second}秒`;\r\n      timer = setInterval(() => {\r\n        second--;\r\n        code_text.value = `倒计进${second}秒`;\r\n        if (second < 0) {\r\n          code_text.value = `重新获取`;\r\n          // 启用按钮\r\n          code_disabled.value = false;\r\n          clearInterval(timer);\r\n        }\r\n      }, 1000);\r\n    };\r\n    // 获取验证码方法\r\n    const getCodeFn = () => {\r\n      if (form.name === \"\") {\r\n        root.$message.error(\"邮箱不能为空！！\");\r\n        return false;\r\n      }\r\n      if (!validate_email(form.name)) {\r\n        root.$message({\r\n          message: \"邮箱格式有误，请重新输入！！\",\r\n          type: \"error\"\r\n        });\r\n        return false;\r\n      }\r\n      let requestData = {\r\n        username: form.name,\r\n        module: current_menu.value\r\n      };\r\n      code_text.value = \"发送中\";\r\n      code_loading.value = true;\r\n      GetCode(requestData)\r\n        .then(response => {\r\n          console.log(response); // 这里打印拦截器返回的信息，response是自定义参数。\r\n          root.$message({\r\n            message: response.message,\r\n            type: \"success\"\r\n          });\r\n          // 激活按钮\r\n          submit_disabled.value = false;\r\n          // 清除加载\r\n          code_loading.value = false;\r\n          // 执行倒计时方法\r\n          countdown(60);\r\n        })\r\n        .catch(error => {\r\n          code_text.value = \"重新获取\";\r\n          code_loading.value = false;\r\n        });\r\n    };\r\n    // 提交表单\r\n    const submitForm = formName => {\r\n      refs[formName].validate(valid => {\r\n        // 表单验证通过\r\n        if (valid) {\r\n          // 三元运算\r\n          current_menu.value === \"login\" ? login() : register();\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    };\r\n    // 登录\r\n    const login = () => {\r\n      const requestData = {\r\n        username: form.name,\r\n        password: sha1(form.password),\r\n        code: form.code\r\n      };\r\n      root.$store\r\n        .dispatch(\"app/loginAction\", requestData)\r\n        .then(response => {\r\n          root.$message({\r\n            message: response.message,\r\n            type: \"success\"\r\n          });\r\n          // 页面跳转\r\n          root.$router.push({ name: \"ConsoleIndex\" });\r\n        })\r\n        .catch(error => {\r\n          // 重置数据\r\n          reset();\r\n        });\r\n    };\r\n    // 注册\r\n    const register = () => {\r\n      const requestData = {\r\n        username: form.name,\r\n        password: sha1(form.password),\r\n        code: form.code\r\n      };\r\n      Register(requestData)\r\n        .then(response => {\r\n          root.$message({\r\n            message: response.message,\r\n            type: \"success\"\r\n          });\r\n          // 重置数据\r\n          reset();\r\n        })\r\n        .catch(error => {\r\n          // 重置数据\r\n          reset();\r\n        });\r\n    };\r\n    // 重置\r\n    const reset = () => {\r\n      // 重置表单\r\n      refs[\"form\"].resetFields();\r\n      // 修改模块\r\n      current_menu.value = \"login\";\r\n      // 判断定时器是否存在，存在则清除\r\n      if (timer) {\r\n        clearInterval(timer);\r\n      }\r\n      // 还原获取验码按钮状态\r\n      code_disabled.value = false;\r\n      code_text.value = \"获取验证码\";\r\n    };\r\n    return {\r\n      form,\r\n      menu_switch_item,\r\n      current_menu,\r\n      form_rules,\r\n      code_text,\r\n      code_loading,\r\n      code_disabled,\r\n      submit_disabled,\r\n      toggleHigh,\r\n      getCodeFn,\r\n      submitForm,\r\n      login,\r\n      register\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n  height: 100vh;\r\n  background-color: #344a5f;\r\n}\r\n.form-wrap {\r\n  width: 300px;\r\n  padding-top: 100px;\r\n  margin: auto;\r\n}\r\n.menu-tab {\r\n  text-align: center;\r\n  li {\r\n    display: inline-block;\r\n    padding: 10px 24px;\r\n    margin: 0 10px;\r\n    color: #fff;\r\n    font-size: 14px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    &.current {\r\n      background-color: rgba(0, 0, 0, 0.1);\r\n    }\r\n  }\r\n}\r\n.form-label {\r\n  display: block;\r\n  color: #fff;\r\n  font-size: 14px;\r\n}\r\n</style>"]}]}