{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\components\\tableData\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\components\\tableData\\index.vue","mtime":1598785966735},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBHZXRUYWJsZURhdGEgfSBmcm9tICJAL2FwaS9jb21tb24iOw0KLy9hcGkNCmltcG9ydCB7IFBhcmtpbmdMaXN0LCBQYXJraW5nRGVsZXRlIH0gZnJvbSAiQC9hcGkvcGFya2luZyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJUYWJsZUNvbXBvbmVudCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOWKoOi9veaPkOekug0KICAgICAgbG9hZGluZ190YWJsZTogdHJ1ZSwNCiAgICAgIC8vdGFibGVEYXRhDQogICAgICB0YWJsZV9kYXRhOiBbXSwNCiAgICAgIHRhYmxlX2NvbmZpZzogew0KICAgICAgICB0aGVhZDogW10sDQogICAgICAgIGNoZWNrYm94OiB0cnVlLA0KICAgICAgICB1cmw6ICIiLA0KICAgICAgICBwYWdpbmF0aW9uOiB0cnVlLA0KICAgICAgICBkYXRhOiB7fQ0KICAgICAgfSwNCiAgICAgIC8v6aG156CBDQogICAgICB0b3RhbDogMCwNCiAgICAgIC8v5b2T5YmN6aG156CBDQogICAgICBjdXJyZW50UGFnZTogMQ0KICAgIH07DQogIH0sDQogIGJlZm9yZU1vdW50KCkge30sDQogIG1ldGhvZHM6IHsNCiAgICAvL3RhYmxlX2NvbmZpZw0KICAgIGluaXRDb25maWcoKSB7DQogICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5jb25maWcpIHsNCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGFibGVfY29uZmlnKS5pbmNsdWRlcyhrZXkpKSB7DQogICAgICAgICAgdGhpcy50YWJsZV9jb25maWdba2V5XSA9IHRoaXMuY29uZmlnW2tleV07DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8v6YWN572u5a6M5oiQ5ZCO5byA5aeL6K+75Y+W5o6l5Y+j5pWw5o2uDQogICAgICB0aGlzLmxvYWREYXRhKCk7DQogICAgfSwNCiAgICBsb2FkRGF0YSgpIHsNCiAgICAgIGxldCByZXF1ZXN0RGF0YSA9IHsNCiAgICAgICAgdXJsOiB0aGlzLnRhYmxlX2NvbmZpZy51cmwsDQogICAgICAgIGRhdGE6IHRoaXMudGFibGVfY29uZmlnLmRhdGENCiAgICAgIH07DQogICAgICB0aGlzLmxvYWRpbmdfdGFibGUgPSB0cnVlOw0KICAgICAgLy/ojrflj5bliJfooagNCiAgICAgIEdldFRhYmxlRGF0YShyZXF1ZXN0RGF0YSkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgIC8v5Yik5pat5pWw5o2u5piv5ZCm5a2Y5ZyoDQogICAgICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMudGFibGVfZGF0YSA9IGRhdGEuZGF0YTsNCiAgICAgICAgICB9DQogICAgICAgICAgLy/pobXnoIENCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAvL0RPTea4suafk+WujOaIkOS5i+WQjg0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsOw0KICAgICAgICAgIHRoaXMubG9hZGluZ190YWJsZSA9IGZhbHNlOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZ190YWJsZSA9IGZhbHNlOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHJlcXVlc3REYXRhKHBhcmFtcyA9ICIiKSB7DQogICAgICAvLyAgIC8v5aSE55CG5Lia5Yqh6YC76L6RDQogICAgICBpZiAocGFyYW1zKSB7DQogICAgICAgIHRoaXMudGFibGVfY29uZmlnLmRhdGEgPSBwYXJhbXM7DQogICAgICB9DQogICAgICB0aGlzLmxvYWREYXRhKCk7DQogICAgfSwNCiAgICAvL+mhteeggQ0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnRhYmxlX2NvbmZpZy5kYXRhLnBhZ2VTaXplID0gdmFsOw0KICAgICAgdGhpcy5sb2FkRGF0YSgpOw0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMudGFibGVfY29uZmlnLmRhdGEucGFnZU51bWJlciA9IHZhbDsNCiAgICAgIHRoaXMubG9hZERhdGEoKTsNCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgY29uZmlnOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBjb25maWc6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsdWUpIHsNCiAgICAgICAgdGhpcy5pbml0Q29uZmlnKCk7DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/tableData","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 表格数据 -->\r\n    <el-table\r\n      v-loading=\"loading_table\"\r\n      element-loading-text=\"拼命加载中\"\r\n      :data=\"table_data\"\r\n      border\r\n      style=\"width: 100%\"\r\n      size=\"small\"\r\n    >\r\n      <el-table-column v-if=\"table_config.checkbox\" type=\"selection\" width=\"35\"></el-table-column>\r\n      <template v-for=\"item in this.table_config.thead\">\r\n        <!-- 回调 -->\r\n        <el-table-column\r\n          v-if=\"item.type ==='function'\"\r\n          :key=\"item.prop\"\r\n          :prop=\"item.prop\"\r\n          :label=\"item.label\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <span v-html=\" item.callback && item.callback(scope.row,item.prop)\"></span>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 插槽slot -->\r\n        <el-table-column\r\n          v-else-if=\"item.type ==='slot'\"\r\n          :key=\"item.prop\"\r\n          :prop=\"item.prop\"\r\n          :label=\"item.label\"\r\n          :width=\"item.width\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <slot :name=\"item.slotName\" :data=\"scope.row\"></slot>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 图片渲染 -->\r\n        <!-- 插槽slot -->\r\n        <el-table-column\r\n          v-else-if=\"item.type ==='image'\"\r\n          :key=\"item.prop\"\r\n          :prop=\"item.prop\"\r\n          :label=\"item.label\"\r\n          :width=\"item.width\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <img :src=\"scope.row.imgUrl\" :width=\"item.imgwidth || 50\" alt=\"item.name\" />\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 纯文本渲染 -->\r\n        <el-table-column v-else :key=\"item.prop\" :prop=\"item.prop\" :label=\"item.label\"></el-table-column>\r\n      </template>\r\n    </el-table>\r\n\r\n    <el-row class=\"padding-top-30\">\r\n      <el-col :span=\"7\">\r\n        <div style=\"padding:5px;\"></div>\r\n      </el-col>\r\n      <el-col :span=\"17\">\r\n        <el-pagination\r\n          v-if=\"table_config.pagination\"\r\n          background\r\n          class=\"pull-right\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[10, 20, 50,100]\"\r\n          :page-size=\"10\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n        ></el-pagination>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { GetTableData } from \"@/api/common\";\r\n//api\r\nimport { ParkingList, ParkingDelete } from \"@/api/parking\";\r\nexport default {\r\n  name: \"TableComponent\",\r\n  data() {\r\n    return {\r\n      // 加载提示\r\n      loading_table: true,\r\n      //tableData\r\n      table_data: [],\r\n      table_config: {\r\n        thead: [],\r\n        checkbox: true,\r\n        url: \"\",\r\n        pagination: true,\r\n        data: {}\r\n      },\r\n      //页码\r\n      total: 0,\r\n      //当前页码\r\n      currentPage: 1\r\n    };\r\n  },\r\n  beforeMount() {},\r\n  methods: {\r\n    //table_config\r\n    initConfig() {\r\n      for (let key in this.config) {\r\n        if (Object.keys(this.table_config).includes(key)) {\r\n          this.table_config[key] = this.config[key];\r\n        }\r\n      }\r\n      //配置完成后开始读取接口数据\r\n      this.loadData();\r\n    },\r\n    loadData() {\r\n      let requestData = {\r\n        url: this.table_config.url,\r\n        data: this.table_config.data\r\n      };\r\n      this.loading_table = true;\r\n      //获取列表\r\n      GetTableData(requestData)\r\n        .then(response => {\r\n          const data = response.data;\r\n          //判断数据是否存在\r\n          if (data) {\r\n            this.table_data = data.data;\r\n          }\r\n          //页码\r\n          this.$nextTick(() => {\r\n            //DOM渲染完成之后\r\n          });\r\n          this.total = data.total;\r\n          this.loading_table = false;\r\n        })\r\n        .catch(error => {\r\n          this.loading_table = false;\r\n        });\r\n    },\r\n    requestData(params = \"\") {\r\n      //   //处理业务逻辑\r\n      if (params) {\r\n        this.table_config.data = params;\r\n      }\r\n      this.loadData();\r\n    },\r\n    //页码\r\n    handleSizeChange(val) {\r\n      this.table_config.data.pageSize = val;\r\n      this.loadData();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.table_config.data.pageNumber = val;\r\n      this.loadData();\r\n    }\r\n  },\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  watch: {\r\n    config: {\r\n      handler(newValue) {\r\n        this.initConfig();\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>"]}]}