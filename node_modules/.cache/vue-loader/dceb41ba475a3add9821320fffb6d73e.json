{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\views\\amap\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\views\\amap\\index.vue","mtime":1598701319962},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBBTWFwTWFuYWdlciwgbGF6eUFNYXBBcGlMb2FkZXJJbnN0YW5jZSB9IGZyb20gInZ1ZS1hbWFwIjsNCi8vIOaWueazlQ0KaW1wb3J0IHsgZ2V0TG5nTGF0IH0gZnJvbSAiLi9jb21tb24iOw0KaW1wb3J0IHsgYWRkcmVzc1NldE1hcENlbnRlciB9IGZyb20gIi4vbG9jYXRpb24iOw0KaW1wb3J0IHsgYW1hcFNldE1hcmtlciwgYW1hcENsZWFyTWFya2VyIH0gZnJvbSAiLi9tYXJrZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQW1hcCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOe7j+e6rOW6pg0KICAgICAgbG5nbGF0OiB7fSwNCiAgICAgIG1hcDogbnVsbCwNCiAgICAgIHpvb206IDE4LA0KICAgICAgZXZlbnRzOiB7fQ0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy9sYXp5QU1hcEFwaUxvYWRlckluc3RhbmNlIOWKoOi9vemrmOW+t+WcsOWbvueahGFwaQ0KICAgIGxhenlBTWFwQXBpTG9hZGVySW5zdGFuY2UubG9hZCgpLnRoZW4oKCkgPT4gew0KICAgICAgdGhpcy5tYXBDcmVhdGUoKTsNCiAgICAgIHRoaXMubWFwLm9uKCJjbGljayIsIGUgPT4gew0KICAgICAgICBjb25zdCBsbmdsYXQgPSBnZXRMbmdMYXQoZSk7DQogICAgICAgIC8vIOabtOaWsOe7j+e6rOW6pg0KICAgICAgICB0aGlzLmxuZ2xhdCA9IGxuZ2xhdDsNCiAgICAgICAgLy8g5Zue6LCD54i257uE5Lu25pa55rOVDQogICAgICAgIHRoaXMuJGVtaXQoImNhbGxiYWNrIiwgew0KICAgICAgICAgIGZ1bmN0aW9uOiAiZ2V0TG5nbGF0IiwNCiAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBsbmdsYXQNCiAgICAgICAgICB9DQogICAgICAgIH0pOyAvLyDlrZDnu4Tku7bosIPniLbnu4Tku7bnmoTmlrnms5UNCiAgICAgICAgLy8g6K6+572u54K56KaG55uW54mpDQogICAgICAgIHRoaXMuc2V0TWFya2VyKCk7DQogICAgICB9KTsNCiAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v5Yib5bu65Zyw5Zu+DQogICAgbWFwQ3JlYXRlKCkgew0KICAgICAgdGhpcy5tYXAgPSBuZXcgQU1hcC5NYXAoImFtYXBDb250YWluZXIiLCB7DQogICAgICAgIGNlbnRlcjogWzExNi40MDQ3NjUsIDM5LjkxODA1Ml0sDQogICAgICAgIHpvb206IHRoaXMuem9vbSAvL+WIneWni+WMluWcsOWbvuWxgue6pw0KICAgICAgfSk7DQogICAgICB0aGlzLm1hcC5vbigiY29tcGxldGUiLCAoKSA9PiB7DQogICAgICAgIHRoaXMubWFwTG9hZHMoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy/lnLDlm77liqDovb3lrozmiJANCiAgICBtYXBMb2FkcygpIHsNCiAgICAgIGlmICh0aGlzLm9wdGlvbnMubWFwTG9hZCkgew0KICAgICAgICB0aGlzLiRlbWl0KCJjYWxsYmFjayIsIHsNCiAgICAgICAgICBmdW5jdGlvbjogIm1hcExvYWQiDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/plIDmr4HlnLDlm74NCiAgICBtYXBEZXN0cm95KCkgew0KICAgICAgdGhpcy5tYXAgJiYgdGhpcy5tYXAuZGVzdHJveSgpOw0KICAgIH0sDQogICAgc2V0TWFwQ2VudGVyKHZhbHVlKSB7DQogICAgICBhZGRyZXNzU2V0TWFwQ2VudGVyKHZhbHVlLCB0aGlzLm1hcCk7DQogICAgfSwNCiAgICAvLyDorr7nva7ngrnopobnm5bniakNCiAgICBzZXRNYXJrZXIobG5nbGF0KSB7DQogICAgICBhbWFwU2V0TWFya2VyKGxuZ2xhdCB8fCB0aGlzLmxuZ2xhdCwgdGhpcy5tYXApOw0KICAgIH0sDQogICAgLyoqIOa4hemZpOeCueimhueblueJqSAqLw0KICAgIGNsZWFyTWFya2VyKCkgew0KICAgICAgYW1hcENsZWFyTWFya2VyKHRoaXMubWFwKTsNCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgb3B0aW9uczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4ge30NCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/amap","sourcesContent":["<template>\r\n  <div class=\"amap-wrap\">\r\n    <el-amap vid=\"amapContainer\" :events=\"events\" class=\"amap-demo\"></el-amap>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { AMapManager, lazyAMapApiLoaderInstance } from \"vue-amap\";\r\n// 方法\r\nimport { getLngLat } from \"./common\";\r\nimport { addressSetMapCenter } from \"./location\";\r\nimport { amapSetMarker, amapClearMarker } from \"./marker\";\r\nexport default {\r\n  name: \"Amap\",\r\n  data() {\r\n    return {\r\n      // 经纬度\r\n      lnglat: {},\r\n      map: null,\r\n      zoom: 18,\r\n      events: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    //lazyAMapApiLoaderInstance 加载高德地图的api\r\n    lazyAMapApiLoaderInstance.load().then(() => {\r\n      this.mapCreate();\r\n      this.map.on(\"click\", e => {\r\n        const lnglat = getLngLat(e);\r\n        // 更新经纬度\r\n        this.lnglat = lnglat;\r\n        // 回调父组件方法\r\n        this.$emit(\"callback\", {\r\n          function: \"getLnglat\",\r\n          data: {\r\n            lnglat\r\n          }\r\n        }); // 子组件调父组件的方法\r\n        // 设置点覆盖物\r\n        this.setMarker();\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    //创建地图\r\n    mapCreate() {\r\n      this.map = new AMap.Map(\"amapContainer\", {\r\n        center: [116.404765, 39.918052],\r\n        zoom: this.zoom //初始化地图层级\r\n      });\r\n      this.map.on(\"complete\", () => {\r\n        this.mapLoads();\r\n      });\r\n    },\r\n    //地图加载完成\r\n    mapLoads() {\r\n      if (this.options.mapLoad) {\r\n        this.$emit(\"callback\", {\r\n          function: \"mapLoad\"\r\n        });\r\n      }\r\n    },\r\n    //销毁地图\r\n    mapDestroy() {\r\n      this.map && this.map.destroy();\r\n    },\r\n    setMapCenter(value) {\r\n      addressSetMapCenter(value, this.map);\r\n    },\r\n    // 设置点覆盖物\r\n    setMarker(lnglat) {\r\n      amapSetMarker(lnglat || this.lnglat, this.map);\r\n    },\r\n    /** 清除点覆盖物 */\r\n    clearMarker() {\r\n      amapClearMarker(this.map);\r\n    }\r\n  },\r\n  props: {\r\n    options: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.amap-wrap {\r\n  height: 100%;\r\n}\r\n</style>"]}]}