{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\views\\amap\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\views\\amap\\index.vue","mtime":1598465208891},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBBTWFwTWFuYWdlciwgbGF6eUFNYXBBcGlMb2FkZXJJbnN0YW5jZSB9IGZyb20gJ3Z1ZS1hbWFwJzsNCi8vIOaWueazlQ0KaW1wb3J0IHsgZ2V0TG5nTGF0IH0gZnJvbSAiLi9jb21tb24iOw0KaW1wb3J0IHsgYWRkcmVzc1NldE1hcENlbnRlciB9IGZyb20gIi4vbG9jYXRpb24iOw0KaW1wb3J0IHsgYW1hcFNldE1hcmtlciwgYW1hcENsZWFyTWFya2VyIH0gZnJvbSAiLi9tYXJrZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJBbWFwIiwNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAvLyDnu4/nuqzluqYNCiAgICAgICAgICAgIGxuZ2xhdDoge30sDQogICAgICAgICAgICBtYXA6IG51bGwsDQogICAgICAgICAgICB6b29tOiAxOCwNCiAgICAgICAgICAgIGV2ZW50czoge30NCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICBsYXp5QU1hcEFwaUxvYWRlckluc3RhbmNlLmxvYWQoKS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubWFwID0gbmV3IEFNYXAuTWFwKCdhbWFwQ29udGFpbmVyJywgew0KICAgICAgICAgICAgICAgIGNlbnRlcjogWzExNi40MDQ3NjUsIDM5LjkxODA1Ml0sDQogICAgICAgICAgICAgICAgem9vbTogdGhpcy56b29tLCAvL+WIneWni+WMluWcsOWbvuWxgue6pw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLm1hcC5vbigiY2xpY2siLCAoZSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGxuZ2xhdCA9IGdldExuZ0xhdChlKTsNCiAgICAgICAgICAgICAgICAvLyDmm7TmlrDnu4/nuqzluqYNCiAgICAgICAgICAgICAgICB0aGlzLmxuZ2xhdCA9IGxuZ2xhdDsNCiAgICAgICAgICAgICAgICAvLyDlm57osIPniLbnu4Tku7bmlrnms5UNCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJjYWxsYmFjayIsIHsNCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246ICJnZXRMbmdsYXQiLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBsbmdsYXQNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOyAgLy8g5a2Q57uE5Lu26LCD54i257uE5Lu255qE5pa55rOVDQogICAgICAgICAgICAgICAgLy8g6K6+572u54K56KaG55uW54mpDQogICAgICAgICAgICAgICAgdGhpcy5zZXRNYXJrZXIoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0pOw0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBzZXRNYXBDZW50ZXIodmFsdWUpew0KICAgICAgICAgICAgYWRkcmVzc1NldE1hcENlbnRlcih2YWx1ZSwgdGhpcy5tYXApOw0KICAgICAgICB9LA0KICAgICAgICAvLyDorr7nva7ngrnopobnm5bniakNCiAgICAgICAgc2V0TWFya2VyKCl7DQogICAgICAgICAgICBhbWFwU2V0TWFya2VyKHRoaXMubG5nbGF0LCB0aGlzLm1hcCk7DQogICAgICAgIH0sDQogICAgICAgIC8qKiDmuIXpmaTngrnopobnm5bniakgKi8NCiAgICAgICAgY2xlYXJNYXJrZXIoKXsNCiAgICAgICAgICAgIGFtYXBDbGVhck1hcmtlcih0aGlzLm1hcCk7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/amap","sourcesContent":["<template>\r\n    <div class=\"amap-wrap\">\r\n        <el-amap vid=\"amapContainer\" :events=\"events\" class=\"amap-demo\"></el-amap>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { AMapManager, lazyAMapApiLoaderInstance } from 'vue-amap';\r\n// 方法\r\nimport { getLngLat } from \"./common\";\r\nimport { addressSetMapCenter } from \"./location\";\r\nimport { amapSetMarker, amapClearMarker } from \"./marker\";\r\nexport default {\r\n    name: \"Amap\",\r\n    data(){\r\n        return {\r\n            // 经纬度\r\n            lnglat: {},\r\n            map: null,\r\n            zoom: 18,\r\n            events: {}\r\n        }\r\n    },\r\n    mounted(){\r\n        lazyAMapApiLoaderInstance.load().then(() => {\r\n            this.map = new AMap.Map('amapContainer', {\r\n                center: [116.404765, 39.918052],\r\n                zoom: this.zoom, //初始化地图层级\r\n            });\r\n            this.map.on(\"click\", (e) => {\r\n                const lnglat = getLngLat(e);\r\n                // 更新经纬度\r\n                this.lnglat = lnglat;\r\n                // 回调父组件方法\r\n                this.$emit(\"callback\", {\r\n                    function: \"getLnglat\",\r\n                    data: {\r\n                        lnglat\r\n                    }\r\n                });  // 子组件调父组件的方法\r\n                // 设置点覆盖物\r\n                this.setMarker();\r\n            })\r\n        });\r\n    },\r\n    methods: {\r\n        setMapCenter(value){\r\n            addressSetMapCenter(value, this.map);\r\n        },\r\n        // 设置点覆盖物\r\n        setMarker(){\r\n            amapSetMarker(this.lnglat, this.map);\r\n        },\r\n        /** 清除点覆盖物 */\r\n        clearMarker(){\r\n            amapClearMarker(this.map);\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.amap-wrap { height: 100%; }\r\n</style>"]}]}