{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\views\\CarsBrand\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\views\\CarsBrand\\index.vue","mtime":1598787763707},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBCcmFuZExpc3QsIEJyYW5kRGVsZXRlLCBCcmFuZFN0YXR1cywgfSBmcm9tICJAL2FwaS9icmFuZCI7DQppbXBvcnQgQWRkQ2Fyc0JyYW5kIGZyb20gIkBjL2RpYWxvZy9hZGRDYXJzQnJhbmQudnVlIjsNCmltcG9ydCBUYWJsZURhdGEgZnJvbSAiQGMvdGFibGVEYXRhIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlBhcmtpbmciLA0KICBjb21wb25lbnRzOiB7IEFkZENhcnNCcmFuZCwgVGFibGVEYXRhIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOW8ueeql+agh+iusA0KICAgICAgZGlhbG9nX3Nob3c6IGZhbHNlLA0KICAgICAgLy/ooajmoLzphY3nva4NCiAgICAgIHRhYmxlX2NvbmZpZzogew0KICAgICAgICB0aGVhZDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGxhYmVsOiAiTE9HTyIsDQogICAgICAgICAgICBwcm9wOiAiaW1nVXJsIiwNCiAgICAgICAgICAgIHR5cGU6ICJpbWFnZSIsDQogICAgICAgICAgICB3aWR0aDogODANCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGxhYmVsOiAi6L2m6L6G5ZOB54mMIiwNCiAgICAgICAgICAgIHByb3A6ICJuYW1lQ2giLA0KICAgICAgICAgICAgdHlwZTogImZ1bmN0aW9uIiwNCiAgICAgICAgICAgIGNhbGxiYWNrOiAocm93LCBwcm9wKSA9PiB7DQogICAgICAgICAgICAgIHJldHVybiBgJHtyb3cubmFtZUNofS8ke3Jvdy5uYW1lRW59YDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGxhYmVsOiAi56aB5ZCv55SoIiwNCiAgICAgICAgICAgIHByb3A6ICJzdGF0dXMiLA0KICAgICAgICAgICAgdHlwZTogInNsb3QiLA0KICAgICAgICAgICAgc2xvdE5hbWU6ICJzdGF0dXMiDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBsYWJlbDogIuaTjeS9nCIsDQogICAgICAgICAgICB0eXBlOiAic2xvdCIsDQogICAgICAgICAgICB3aWR0aDogMjAwLA0KICAgICAgICAgICAgc2xvdE5hbWU6ICJvcGVyYXRpb24iDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICB1cmw6ICJicmFuZExpc3QiLCAvL+ivt+axglVybOWcsOWdgA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICAgIHBhZ2VOdW1iZXI6IDENCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIC8v562b6YCJDQogICAgICBmb3JtOiB7DQogICAgICAgIHN0YXR1czogIiINCiAgICAgIH0sDQogICAgICBzd2l0Y2hfZGlzYWJsZWQ6ICIiLA0KICAgICAgLy/npoHlkK/nlKgNCiAgICAgIHJhZGlvX3N0YXR1czogdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLnJhZGlvX3N0YXR1cywNCiAgICAgIHJvd0lkOiAiIiwNCiAgICAgIGRhdGFfaWQ6ICIiDQogICAgfTsNCiAgfSwNCiAgYmVmb3JlTW91bnQoKSB7fSwNCiAgbWV0aG9kczogew0KICAgIGVkaXQoaWQpIHsNCiAgICAgIHRoaXMuZGF0YV9pZCA9IGlkOw0KICAgICAgdGhpcy5kaWFsb2dfc2hvdyA9IHRydWU7DQogICAgICBjb25zb2xlLmxvZyhpZCk7DQogICAgfSwNCiAgICAvL+emgeWQr+eUqA0KICAgIHN3aXRjaENoYW5nZShkYXRhKSB7DQogICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHsNCiAgICAgICAgaWQ6IGRhdGEuaWQsDQogICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMNCiAgICAgIH07DQogICAgICB0aGlzLnN3aXRjaF9kaXNhYmxlZCA9IGRhdGEuaWQ7DQogICAgICBCcmFuZFN0YXR1cyhyZXF1ZXN0RGF0YSkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZQ0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMuc3dpdGNoX2Rpc2FibGVkID0gIiI7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgdGhpcy5zd2l0Y2hfZGlzYWJsZWQgPSAiIjsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+WIoOmZpA0KICAgIGRlbENvbmZpcm0oaWQpIHsNCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeaWh+S7tiwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIg0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMucm93SWQgPSBpZDsNCiAgICAgICAgICBCcmFuZERlbGV0ZSh7IGlkIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLnJvd0lkID0gIiI7DQogICAgICAgICAgICAvL+iwg+eUqOWtkOe7hOS7tueahOaWueazlQ0KICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5yZXF1ZXN0RGF0YSgpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgIHRoaXMucm93SWQgPSAiIjsNCiAgICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/CarsBrand","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"filter-form\">\r\n      <el-row>\r\n        <el-col :span=\"20\">\r\n          <el-form :inline=\"true\" :model=\"form\" class=\"demo-form-inline\" size=\"small\">\r\n            <el-form-item label=\"类型\">\r\n              <el-select v-model=\"form.status\" placeholder=\"请选择类型\">\r\n                <el-option\r\n                  v-for=\"item in radio_status\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                  :key=\"item.value\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"danger\">搜索</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <div class=\"pull-right\">\r\n            <el-button type=\"danger\" size=\"small\" @click=\"dialog_show=true\">新增车辆品牌</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 表格数据 -->\r\n\r\n    <TableData ref=\"refs\" :config=\"table_config\">\r\n      <!-- 禁启用 -->\r\n      <template v-slot:status=\"slotData\">\r\n        <el-switch\r\n          :disabled=\"slotData.data.id  == switch_disabled\"\r\n          @change=\"switchChange(slotData.data)\"\r\n          v-model=\"slotData.data.status\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#ff4949\"\r\n        ></el-switch>\r\n      </template>\r\n\r\n      <!-- 操作 -->\r\n      <template v-slot:operation=\"slotData\">\r\n        <el-button type=\"danger\" size=\"mini\" @click=\"edit(slotData.data.id)\">编辑</el-button>\r\n        <el-button\r\n          size=\"mini\"\r\n          :loading=\"slotData.data.id == rowId\"\r\n          @click=\"delConfirm(slotData.data.id)\"\r\n        >删除</el-button>\r\n      </template>\r\n    </TableData>\r\n\r\n    <AddCarsBrand :flagVisible.sync=\"dialog_show\" :id=\"data_id\" />\r\n    <!--父组件往子组件传数据时，是一个单项数据流-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BrandList, BrandDelete, BrandStatus, } from \"@/api/brand\";\r\nimport AddCarsBrand from \"@c/dialog/addCarsBrand.vue\";\r\nimport TableData from \"@c/tableData\";\r\nexport default {\r\n  name: \"Parking\",\r\n  components: { AddCarsBrand, TableData },\r\n  data() {\r\n    return {\r\n      // 弹窗标记\r\n      dialog_show: false,\r\n      //表格配置\r\n      table_config: {\r\n        thead: [\r\n          {\r\n            label: \"LOGO\",\r\n            prop: \"imgUrl\",\r\n            type: \"image\",\r\n            width: 80\r\n          },\r\n          {\r\n            label: \"车辆品牌\",\r\n            prop: \"nameCh\",\r\n            type: \"function\",\r\n            callback: (row, prop) => {\r\n              return `${row.nameCh}/${row.nameEn}`;\r\n            }\r\n          },\r\n          {\r\n            label: \"禁启用\",\r\n            prop: \"status\",\r\n            type: \"slot\",\r\n            slotName: \"status\"\r\n          },\r\n          {\r\n            label: \"操作\",\r\n            type: \"slot\",\r\n            width: 200,\r\n            slotName: \"operation\"\r\n          }\r\n        ],\r\n        url: \"brandList\", //请求Url地址\r\n        data: {\r\n          pageSize: 10,\r\n          pageNumber: 1\r\n        }\r\n      },\r\n      //筛选\r\n      form: {\r\n        status: \"\"\r\n      },\r\n      switch_disabled: \"\",\r\n      //禁启用\r\n      radio_status: this.$store.state.config.radio_status,\r\n      rowId: \"\",\r\n      data_id: \"\"\r\n    };\r\n  },\r\n  beforeMount() {},\r\n  methods: {\r\n    edit(id) {\r\n      this.data_id = id;\r\n      this.dialog_show = true;\r\n      console.log(id);\r\n    },\r\n    //禁启用\r\n    switchChange(data) {\r\n      const requestData = {\r\n        id: data.id,\r\n        status: data.status\r\n      };\r\n      this.switch_disabled = data.id;\r\n      BrandStatus(requestData)\r\n        .then(response => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: response.message\r\n          });\r\n          this.switch_disabled = \"\";\r\n        })\r\n        .catch(error => {\r\n          this.switch_disabled = \"\";\r\n        });\r\n    },\r\n    //删除\r\n    delConfirm(id) {\r\n      this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.rowId = id;\r\n          BrandDelete({ id }).then(response => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: response.message\r\n            });\r\n            this.rowId = \"\";\r\n            //调用子组件的方法\r\n            this.$refs.table.requestData();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.rowId = \"\";\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>"]}]}