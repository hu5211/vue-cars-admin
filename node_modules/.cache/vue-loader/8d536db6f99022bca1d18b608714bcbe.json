{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\components\\formData\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\components\\formData\\index.vue","mtime":1599072064775},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+ecgeW4guWMug0KaW1wb3J0IENpdHlBcmVhIGZyb20gIkBjL2NvbW1vbi9jaXR5QXJlYSI7DQovLyDlr4zmlofmnKznu4Tku7YNCmltcG9ydCBXYW5nZWRpdG9yIGZyb20gIkBjL2NvbW1vbi93YW5nZWRpdG9yIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkZvcm0iLA0KICBjb21wb25lbnRzOiB7IENpdHlBcmVhLCBXYW5nZWRpdG9yIH0sDQogIHByb3BzOiB7DQogICAgbGFiZWxXaWR0aDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIjExMHB4Ig0KICAgIH0sDQogICAgZm9ybURhdGE6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9DQogICAgfSwNCiAgICBmb3JtSXRlbTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fQ0KICAgIH0sDQogICAgLy/mjInpkq4NCiAgICBmb3JtSGFuZGxlcjogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g56aB5ZCv55So5pWw5o2uDQogICAgICByYWRpb19zdGF0dXM6IHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5yYWRpb19zdGF0dXMNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdEZvcm1EYXRhKCkgew0KICAgICAgdGhpcy5mb3JtSXRlbS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAvL3J1bGVzIOinhOWImQ0KICAgICAgICBpZiAoaXRlbS5yZXF1aXJlZCkgew0KICAgICAgICAgIHRoaXMucnVsZXMoaXRlbSk7DQogICAgICAgIH0NCiAgICAgICAgLy/oh6rlrprkuYnop4TliJkNCiAgICAgICAgaWYgKGl0ZW0udmFsaWRhdG9yKSB7DQogICAgICAgICAgaXRlbS5ydWxlcyA9IGl0ZW0udmFsaWRhdG9yOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v5piv5ZCm5a2Y5Zyo5b+F5aGr6KeE5YiZDQogICAgcnVsZXMoaXRlbSkgew0KICAgICAgY29uc3QgdHlwZU1zZyA9IHsNCiAgICAgICAgSW5wdXQ6ICLor7fovpPlhaUiLA0KICAgICAgICBSYWRpbzogIuivt+mAieaLqSIsDQogICAgICAgIFNlbGVjdDogIuivt+mAieaLqSINCiAgICAgIH07DQogICAgICBjb25zdCByZXF1aXJlZFJ1bGVzID0gWw0KICAgICAgICB7DQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgbWVzc2FnZTogaXRlbS5yZXF1aXJlZF9tc2cgfHwgYCR7dHlwZU1zZ1tpdGVtLnR5cGVdfSR7aXRlbS5sYWJlbH1gLA0KICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiDQogICAgICAgIH0NCiAgICAgIF07DQogICAgICAvL+WFtuS7lnJ1bGVz6KeE5YiZDQogICAgICBpZiAoaXRlbS5ydWxlcyAmJiBpdGVtLnJ1bGVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgaXRlbS5ydWxlcyA9IHJlcXVpcmVkUnVsZXMuY29uY2F0KGl0ZW0ucnVsZXMpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaXRlbS5ydWxlcyA9IHJlcXVpcmVkUnVsZXM7DQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGZvcm1JdGVtOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7DQogICAgICAgIHRoaXMuaW5pdEZvcm1EYXRhKCk7DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/formData","sourcesContent":["<template>\r\n  <el-form\r\n    :inline-message=\"true\"\r\n    :model=\"formData\"\r\n    ref=\"form\"\r\n    :label-width=\"labelWidth\"\r\n    size=\"small\"\r\n  >\r\n    <el-form-item\r\n      v-for=\"item in formItem\"\r\n      :key=\"item.prop\"\r\n      :label=\"item.label\"\r\n      :prop=\"item.prop\"\r\n      :rules=\"item.rules\"\r\n    >\r\n      <!-- input -->\r\n      <el-input\r\n        v-if=\"item.type === 'Input'\"\r\n        v-model.trim=\"formData[item.prop]\"\r\n        :placeholder=\"item.placeholder\"\r\n        :style=\"{width:item.width}\"\r\n        :disabled=\"item.disabled\"\r\n      ></el-input>\r\n      <!-- select -->\r\n      <el-select\r\n        v-if=\"item.type === 'Select'\"\r\n        v-model.trim=\"formData[item.prop]\"\r\n        :placeholder=\"item.placeholder\"\r\n        :style=\"{width:item.width}\"\r\n        :disabled=\"item.disabled\"\r\n      >\r\n        <el-option\r\n          v-for=\"selectItem in item.options\"\r\n          :label=\"selectItem.label || selectItem[item._label]\"\r\n          :key=\"selectItem.value || selectItem[item._value]\"\r\n          :value=\"selectItem.value || selectItem[item._value]\"\r\n        ></el-option>\r\n      </el-select>\r\n      <!-- 禁启用 -->\r\n      <el-radio-group v-if=\"item.type === 'Disabled'\" v-model=\"formData[item.prop]\">\r\n        <el-radio\r\n          v-for=\"radio in radio_status\"\r\n          :label=\"radio.value\"\r\n          :key=\"radio.value\"\r\n        >{{ radio.label }}</el-radio>\r\n      </el-radio-group>\r\n      <!-- 插槽 -->\r\n      <slot v-if=\"item.type === 'Slot'\" :name=\"item.slotName\"></slot>\r\n      <!-- radio -->\r\n      <el-radio-group v-if=\"item.type === 'Radio'\" v-model=\"formData[item.prop]\">\r\n        <el-radio\r\n          v-for=\"radio in item.options\"\r\n          :label=\"radio.value\"\r\n          :key=\"radio.value\"\r\n        >{{ radio.label }}</el-radio>\r\n      </el-radio-group>\r\n      <!-- 富文本编辑器 -->\r\n      <template v-if=\"item.type ==='Wangeditor'\">\r\n        <Wangeditor :content.sync=\"formData[item.prop]\" :content.sync=\"formData[item.prop]\" />\r\n      </template>\r\n    </el-form-item>\r\n    <!-- 按钮 -->\r\n    <el-form-item>\r\n      <el-button\r\n        v-for=\"item in formHandler\"\r\n        :key=\"item.key\"\r\n        @click=\"item.handler && item.handler()\"\r\n        :type=\"item.type\"\r\n      >{{item.label}}</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n<script>\r\n//省市区\r\nimport CityArea from \"@c/common/cityArea\";\r\n// 富文本组件\r\nimport Wangeditor from \"@c/common/wangeditor\";\r\nexport default {\r\n  name: \"Form\",\r\n  components: { CityArea, Wangeditor },\r\n  props: {\r\n    labelWidth: {\r\n      type: String,\r\n      default: \"110px\"\r\n    },\r\n    formData: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    formItem: {\r\n      type: Array,\r\n      default: () => {}\r\n    },\r\n    //按钮\r\n    formHandler: {\r\n      type: Array,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 禁启用数据\r\n      radio_status: this.$store.state.config.radio_status\r\n    };\r\n  },\r\n  methods: {\r\n    initFormData() {\r\n      this.formItem.forEach(item => {\r\n        //rules 规则\r\n        if (item.required) {\r\n          this.rules(item);\r\n        }\r\n        //自定义规则\r\n        if (item.validator) {\r\n          item.rules = item.validator;\r\n        }\r\n      });\r\n    },\r\n    //是否存在必填规则\r\n    rules(item) {\r\n      const typeMsg = {\r\n        Input: \"请输入\",\r\n        Radio: \"请选择\",\r\n        Select: \"请选择\"\r\n      };\r\n      const requiredRules = [\r\n        {\r\n          required: true,\r\n          message: item.required_msg || `${typeMsg[item.type]}${item.label}`,\r\n          trigger: \"change\"\r\n        }\r\n      ];\r\n      //其他rules规则\r\n      if (item.rules && item.rules.length > 0) {\r\n        item.rules = requiredRules.concat(item.rules);\r\n      } else {\r\n        item.rules = requiredRules;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    formItem: {\r\n      handler(newValue) {\r\n        this.initFormData();\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>"]}]}