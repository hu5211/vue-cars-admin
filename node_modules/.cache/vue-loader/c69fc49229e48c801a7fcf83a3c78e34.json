{"remainingRequest":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue-cars\\vue-cars-admin\\src\\views\\Parking\\add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue-cars\\vue-cars-admin\\src\\views\\Parking\\add.vue","mtime":1598914996643},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue-cars\\vue-cars-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL0FNQVANCmltcG9ydCBBTWFwIGZyb20gIi4uL2FtYXAiOw0KLy8g57uE5Lu2DQppbXBvcnQgQ2l0eUFyZWEgZnJvbSAiQGMvY29tbW9uL2NpdHlBcmVhIjsNCmltcG9ydCBGb3JtRGF0YSBmcm9tICJAYy9mb3JtRGF0YSI7DQovL0FQSQ0KaW1wb3J0IHsgUGFya2luZ0FkZCwgUGFya2luZ0RldGFpbGVkLCBQYXJraW5nRWRpdCB9IGZyb20gIkAvYXBpL3BhcmtpbmciOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUGFya2luZ0FkZCIsDQogIGRhdGEoKSB7DQogICAgbGV0IHZhbGlkYXRlTnVtYmVyID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgY29uc3QgcmVnTnVtYmVyID0gL15bMC05XSokLzsNCiAgICAgIGlmICghdmFsdWUpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXlj6/lgZzmlL7ovabovoYiKSk7DQogICAgICB9IGVsc2UgaWYgKCFyZWdOdW1iZXIudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXmlbDlrZciKSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgfQ0KICAgIH07DQogICAgcmV0dXJuIHsNCiAgICAgIC8v6KGo5Y2V5pWw5o2u6YWN572uDQogICAgICBmb3JtX2RhdGE6IHsNCiAgICAgICAgcGFya2luZ05hbWU6ICIiLA0KICAgICAgICBhcmVhOiAiIiwNCiAgICAgICAgYWRkcmVzczogIiIsDQogICAgICAgIHR5cGU6ICIiLA0KICAgICAgICBjYXJzTnVtYmVyOiAiIiwNCiAgICAgICAgc3RhdHVzOiAiIiwNCiAgICAgICAgbG5nbGF0OiAiIg0KICAgICAgfSwNCiAgICAgIC8v6KGo5Y2V6YWN572uDQogICAgICBmb3JtX2l0ZW06IFsNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJJbnB1dCIsDQogICAgICAgICAgbGFiZWw6ICLlgZzovablnLrlkI3np7AiLA0KICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5YGc6L2m5Zy65ZCN56ewIiwNCiAgICAgICAgICBwcm9wOiAicGFya2luZ05hbWUiLA0KICAgICAgICAgIHdpZHRoOiAiMzAwcHgiLA0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAiU2xvdCIsDQogICAgICAgICAgc2xvdE5hbWU6ICJjaXR5IiwNCiAgICAgICAgICBsYWJlbDogIuWMuuWfnyIsDQogICAgICAgICAgcHJvcDogImFyZWEiDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAiSW5wdXQiLA0KICAgICAgICAgIGxhYmVsOiAi6K+m57uG5Zyw5Z2AIiwNCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeivpue7huWcsOWdgCIsDQogICAgICAgICAgcHJvcDogImFkZHJlc3MiLA0KICAgICAgICAgIHdpZHRoOiAiNjAwcHgiLA0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAiUmFkaW8iLA0KICAgICAgICAgIGxhYmVsOiAi57G75Z6LIiwNCiAgICAgICAgICBwcm9wOiAidHlwZSIsDQogICAgICAgICAgb3B0aW9uczogdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLnBhcmtpbmdfdHlwZSwNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdHlwZTogIklucHV0IiwNCiAgICAgICAgICBsYWJlbDogIuWPr+WBnOaUvui9pui+hiIsDQogICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXmlbDlrZfnsbvlnosiLA0KICAgICAgICAgIHByb3A6ICJjYXJzTnVtYmVyIiwNCiAgICAgICAgICB3aWR0aDogIjE1MHB4IiwNCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICB2YWxpZGF0b3I6IFt7IHZhbGlkYXRvcjogdmFsaWRhdGVOdW1iZXIsIHRyaWdnZXI6ICJjaGFuZ2UiIH1dDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAiUmFkaW8iLA0KICAgICAgICAgIGxhYmVsOiAi56aB5ZCv55SoIiwNCiAgICAgICAgICBwcm9wOiAic3RhdHVzIiwNCiAgICAgICAgICBvcHRpb25zOiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcucmFkaW9fc3RhdHVzLA0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAiU2xvdCIsDQogICAgICAgICAgc2xvdE5hbWU6ICJhbWFwIiwNCiAgICAgICAgICBsYWJlbDogIuS9jee9riINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJJbnB1dCIsDQogICAgICAgICAgbGFiZWw6ICLnu4/nuqzluqYiLA0KICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36YCJ5oup5Zyw5Zu+IiwNCiAgICAgICAgICBwcm9wOiAibG5nbGF0IiwNCiAgICAgICAgICB3aWR0aDogIjIwMHB4IiwNCiAgICAgICAgICBkaXNhYmxlZDogdHJ1ZQ0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgZm9ybV9oYW5kbGVyOiBbDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogIuehruWumiIsDQogICAgICAgICAga2V5OiAic3VibWl0IiwNCiAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwNCiAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB0aGlzLmZvcm1WYWxpZGF0ZSgpDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICAvL2lkDQogICAgICBpZDogdGhpcy4kcm91dGUucXVlcnkuaWQsDQogICAgICAvL+WcsOWbvumFjee9rg0KICAgICAgb3B0aW9uX21hcDogeyBtYXBMb2FkOiB0cnVlIH0sDQogICAgICByYWRpb19zdGF0dXM6IHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5yYWRpb19zdGF0dXMsDQogICAgICB0eXBlOiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcucGFya2luZ190eXBlLA0KICAgICAgYnV0dG9uX2xvYWRpbmc6IGZhbHNlDQogICAgfTsNCiAgfSwNCiAgY29tcG9uZW50czogeyBBTWFwLCBDaXR5QXJlYSwgRm9ybURhdGEgfSwNCiAgYmVmb3JlTW91bnQoKSB7fSwNCiAgbW91bnRlZCgpIHt9LA0KICBtZXRob2RzOiB7DQogICAgZm9ybVZhbGlkYXRlKCkgew0KICAgICAgdGhpcy4kcmVmcy52dUZvcm0uJHJlZnMuZm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHRoaXMuYnV0dG9uX2xvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgIHRoaXMuaWQgPyB0aGlzLmVkaXRQYXJraW5nKCkgOiB0aGlzLmFkZFBhcmtpbmcoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2FsbGJhY2tDb21wb25lbnQocGFyYW1zKSB7DQogICAgICBpZiAocGFyYW1zLmZ1bmN0aW9uKSB7DQogICAgICAgIHRoaXNbcGFyYW1zLmZ1bmN0aW9uXShwYXJhbXMuZGF0YSk7DQogICAgICB9DQogICAgfSwNCiAgICAvL+WcsOWbvuWKoOi9veWujOaIkA0KICAgIG1hcExvYWQoKSB7DQogICAgICB0aGlzLmdldERldGFpbGUoKTsNCiAgICB9LA0KICAgIHNldE1hcENlbnRlcihkYXRhKSB7DQogICAgICB0aGlzLiRyZWZzLmFtYXAuc2V0TWFwQ2VudGVyKGRhdGEuYWRkcmVzcyk7DQogICAgfSwNCiAgICBnZXRMbmdsYXQoZGF0YSkgew0KICAgICAgdGhpcy5mb3JtX2RhdGEubG5nbGF0ID0gZGF0YS5sbmdsYXQudmFsdWU7DQogICAgfSwNCiAgICAvL+aWsOWinuWBnOi9puWcukFQSQ0KICAgIGFkZFBhcmtpbmcoKSB7DQogICAgICBQYXJraW5nQWRkKHRoaXMuZm9ybV9kYXRhKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5idXR0b25fbG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgIG5hbWU6ICJQYXJraW5nSW5kZXgiDQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgdGhpcy5idXR0b25fbG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgLy/nvJbovpHlgZzovablnLpBUEkNCiAgICBlZGl0UGFya2luZygpIHsNCiAgICAgIGxldCByZXF1ZXN0RGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtX2RhdGEpKTsNCiAgICAgIHJlcXVlc3REYXRhLmlkID0gdGhpcy5pZDsNCiAgICAgIFBhcmtpbmdFZGl0KHJlcXVlc3REYXRhKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5idXR0b25fbG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIlBhcmtpbmdJbmRleCIgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgdGhpcy5idXR0b25fbG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgLy/ojrflj5bor6bmg4UNCiAgICBnZXREZXRhaWxlKCkgew0KICAgICAgaWYgKCF0aGlzLmlkKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIFBhcmtpbmdEZXRhaWxlZCh7IGlkOiB0aGlzLmlkIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgLy/ov5jljp/mlbDmja4NCiAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHsNCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5mb3JtX2RhdGEpLmluY2x1ZGVzKGtleSkpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybV9kYXRhW2tleV0gPSBkYXRhW2tleV07DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8v6K6+572u6KaG55uW54mpDQogICAgICAgIC8vZG9t5YWD57Sg5riy5p+T5a6M5oiQ5LmL5ZCO6LCD55SoDQogICAgICAgIGNvbnN0IHNwbGl0TG5nbGF0ID0gZGF0YS5sbmdsYXQuc3BsaXQoIiwiKTsNCiAgICAgICAgY29uc3QgbG5nbGF0ID0gew0KICAgICAgICAgIGxuZzogc3BsaXRMbmdsYXRbMF0sDQogICAgICAgICAgbGF0OiBzcGxpdExuZ2xhdFsxXQ0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLiRyZWZzLmFtYXAuc2V0TWFya2VyKGxuZ2xhdCk7DQogICAgICAgIC8v6L+Y5Y6f55yB5biC5Yy6DQogICAgICAgIHRoaXMuJHJlZnMuY2l0eUFyZWEuaW5pdERlZmF1bHQoZGF0YS5yZWdpb24pOw0KICAgICAgfSk7DQogICAgfQ0KICAgIC8v6YeN572u6KGo5Y2VDQogICAgLy8gcmVzZXQoZm9ybU5hbWUpIHsNCiAgICAvLyAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7DQogICAgLy8gICAvL+a4hemZpGNpdHlBcmVh55qE5YC8DQogICAgLy8gICB0aGlzLiRyZWZzLmNpdHlBcmVhLmNsZWFyKCk7DQogICAgLy8gICB0aGlzLiRyZWZzLmFtYXAuY2xlYXJNYXJrZXIoKTsNCiAgICAvLyB9DQogIH0NCn07DQo="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/views/Parking","sourcesContent":["<template>\r\n  <div class=\"parking-add\">\r\n    <FormData ref=\"vuForm\" :formData=\"form_data\" :formItem=\"form_item\" :formHandler=\"form_handler\">\r\n      <template v-slot:city>\r\n        <CityArea\r\n          ref=\"cityArea\"\r\n          :mapLocation=\"true\"\r\n          :cityAreaValue.sync=\"form_data.area\"\r\n          @callback=\"callbackComponent\"\r\n        />\r\n      </template>\r\n      <template v-slot:amap>\r\n        <div class=\"address-map\">\r\n          <AMap ref=\"amap\" :options=\"option_map\" @callback=\"callbackComponent\" />\r\n        </div>\r\n      </template>\r\n    </FormData>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//AMAP\r\nimport AMap from \"../amap\";\r\n// 组件\r\nimport CityArea from \"@c/common/cityArea\";\r\nimport FormData from \"@c/formData\";\r\n//API\r\nimport { ParkingAdd, ParkingDetailed, ParkingEdit } from \"@/api/parking\";\r\nexport default {\r\n  name: \"ParkingAdd\",\r\n  data() {\r\n    let validateNumber = (rule, value, callback) => {\r\n      const regNumber = /^[0-9]*$/;\r\n      if (!value) {\r\n        callback(new Error(\"请输入可停放车辆\"));\r\n      } else if (!regNumber.test(value)) {\r\n        callback(new Error(\"请输入数字\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      //表单数据配置\r\n      form_data: {\r\n        parkingName: \"\",\r\n        area: \"\",\r\n        address: \"\",\r\n        type: \"\",\r\n        carsNumber: \"\",\r\n        status: \"\",\r\n        lnglat: \"\"\r\n      },\r\n      //表单配置\r\n      form_item: [\r\n        {\r\n          type: \"Input\",\r\n          label: \"停车场名称\",\r\n          placeholder: \"请输入停车场名称\",\r\n          prop: \"parkingName\",\r\n          width: \"300px\",\r\n          required: true\r\n        },\r\n        {\r\n          type: \"Slot\",\r\n          slotName: \"city\",\r\n          label: \"区域\",\r\n          prop: \"area\"\r\n        },\r\n        {\r\n          type: \"Input\",\r\n          label: \"详细地址\",\r\n          placeholder: \"请输入详细地址\",\r\n          prop: \"address\",\r\n          width: \"600px\",\r\n          required: true\r\n        },\r\n        {\r\n          type: \"Radio\",\r\n          label: \"类型\",\r\n          prop: \"type\",\r\n          options: this.$store.state.config.parking_type,\r\n          required: true\r\n        },\r\n        {\r\n          type: \"Input\",\r\n          label: \"可停放车辆\",\r\n          placeholder: \"请输入数字类型\",\r\n          prop: \"carsNumber\",\r\n          width: \"150px\",\r\n          required: true,\r\n          validator: [{ validator: validateNumber, trigger: \"change\" }]\r\n        },\r\n        {\r\n          type: \"Radio\",\r\n          label: \"禁启用\",\r\n          prop: \"status\",\r\n          options: this.$store.state.config.radio_status,\r\n          required: true\r\n        },\r\n        {\r\n          type: \"Slot\",\r\n          slotName: \"amap\",\r\n          label: \"位置\"\r\n        },\r\n        {\r\n          type: \"Input\",\r\n          label: \"经纬度\",\r\n          placeholder: \"请选择地图\",\r\n          prop: \"lnglat\",\r\n          width: \"200px\",\r\n          disabled: true\r\n        }\r\n      ],\r\n      form_handler: [\r\n        {\r\n          label: \"确定\",\r\n          key: \"submit\",\r\n          type: \"danger\",\r\n          handler: () => this.formValidate()\r\n        }\r\n      ],\r\n      //id\r\n      id: this.$route.query.id,\r\n      //地图配置\r\n      option_map: { mapLoad: true },\r\n      radio_status: this.$store.state.config.radio_status,\r\n      type: this.$store.state.config.parking_type,\r\n      button_loading: false\r\n    };\r\n  },\r\n  components: { AMap, CityArea, FormData },\r\n  beforeMount() {},\r\n  mounted() {},\r\n  methods: {\r\n    formValidate() {\r\n      this.$refs.vuForm.$refs.form.validate(valid => {\r\n        if (valid) {\r\n          this.button_loading = true;\r\n          this.id ? this.editParking() : this.addParking();\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    callbackComponent(params) {\r\n      if (params.function) {\r\n        this[params.function](params.data);\r\n      }\r\n    },\r\n    //地图加载完成\r\n    mapLoad() {\r\n      this.getDetaile();\r\n    },\r\n    setMapCenter(data) {\r\n      this.$refs.amap.setMapCenter(data.address);\r\n    },\r\n    getLnglat(data) {\r\n      this.form_data.lnglat = data.lnglat.value;\r\n    },\r\n    //新增停车场API\r\n    addParking() {\r\n      ParkingAdd(this.form_data)\r\n        .then(response => {\r\n          this.$message({\r\n            message: response.message,\r\n            type: \"success\"\r\n          });\r\n          this.button_loading = false;\r\n          this.$router.push({\r\n            name: \"ParkingIndex\"\r\n          });\r\n        })\r\n        .catch(error => {\r\n          this.button_loading = false;\r\n        });\r\n    },\r\n\r\n    //编辑停车场API\r\n    editParking() {\r\n      let requestData = JSON.parse(JSON.stringify(this.form_data));\r\n      requestData.id = this.id;\r\n      ParkingEdit(requestData)\r\n        .then(response => {\r\n          this.$message({\r\n            message: response.message,\r\n            type: \"success\"\r\n          });\r\n          this.button_loading = false;\r\n          this.$router.push({ name: \"ParkingIndex\" });\r\n        })\r\n        .catch(error => {\r\n          this.button_loading = false;\r\n        });\r\n    },\r\n\r\n    //获取详情\r\n    getDetaile() {\r\n      if (!this.id) {\r\n        return false;\r\n      }\r\n      ParkingDetailed({ id: this.id }).then(response => {\r\n        const data = response.data;\r\n        //还原数据\r\n        for (let key in data) {\r\n          if (Object.keys(this.form_data).includes(key)) {\r\n            this.form_data[key] = data[key];\r\n          }\r\n        }\r\n        //设置覆盖物\r\n        //dom元素渲染完成之后调用\r\n        const splitLnglat = data.lnglat.split(\",\");\r\n        const lnglat = {\r\n          lng: splitLnglat[0],\r\n          lat: splitLnglat[1]\r\n        };\r\n        this.$refs.amap.setMarker(lnglat);\r\n        //还原省市区\r\n        this.$refs.cityArea.initDefault(data.region);\r\n      });\r\n    }\r\n    //重置表单\r\n    // reset(formName) {\r\n    //   this.$refs[formName].resetFields();\r\n    //   //清除cityArea的值\r\n    //   this.$refs.cityArea.clear();\r\n    //   this.$refs.amap.clearMarker();\r\n    // }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.address-map {\r\n  width: 80%;\r\n  height: 300px;\r\n}\r\n.el-input {\r\n  width: 30%;\r\n}\r\n</style>"]}]}